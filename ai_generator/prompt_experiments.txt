# Function設計

"""
"高校"に存在するアイテム:

教科書
黒板
チョーク
実験器具
スクールバッグ
体操服
生徒手帳
公告板
教室の机と椅子
校内放送用のマイク
"高校"で考えられる特殊事象:

授業中にサイレンが鳴り、火災演習が始まる
全校集会の際に、生徒全員が体育館に集まる
定期的に生徒が掃除当番として教室や廊下の掃除をする
放課後、部活動の生徒たちが各場所で活動を開始する
生徒会選挙の期間中、キャンペーンスピーチが行われる
学校祭の前にはクラスごとに出店や展示の準備を始める
定期テスト前には、多くの生徒が図書館で勉強をする
時間割が変更になることがあり、それに伴い授業が急遽変わることがある
学校の周りにある特定の場所は、放課後の生徒たちの人気の待ち合わせ場所となっている
体育の授業中、天気が悪い場合は体育館での授業に変更されることがある
"""

今日やること

- 具体例をいつでも使える形に整形して集める
    - 個人的なイメージでは具体例を与えるほどvarianceが下がるイメージ
- Functionを設計してテスト
- Designにユーザーとのやり取りするデータイメージを挙げる
    - バック, フロントもAPIで返すJSONの詳細が欲しそう

- [再掲]マダミスを作るのに必要な情報
    
    ![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/ec8dacc6-33e6-4a53-bdd5-5f6ffe80350b/65b6df8f-4cd7-4b41-8c66-deb58277513e/Untitled.png)
    
    1. はじめに(不変.システム側)
        - マーダーミステリーとは何か,どう遊ぶのか
    2. 物語の舞台とスタート時の共通情報
        - 一言で: (高校時代の学校とか剣と魔法の世界とか)
        - 世界の詳細: txt. どんな世界なのか(あらすじ)
        - 登場人物の簡単なプロフ
            - 名前
            - 性別
            - 年齢
            - 職業
            - 簡単な説明
    
    ===== ここまででシナリオを選んだりキャラクターを選んだりする =====
    
    1. 進行表
        - どうやってゲームを進めるのか
        - e.g.
            
            パーツ: 議論,捜索(移動),密談,シームレス etc.
            
            | 内容 | 時間 | パーツ | メモ |
            | --- | --- | --- | --- |
            | 0.キャラクター選択 | 5分 | 固定 |  |
            | 1.ルール確認 | 5分 | 固定 |  |
            | 2.オープニング | 3分 | 固定 |  |
            | 3.キャラクターシート読み | 8分 | 固定 |  |
            | 4.議論1 | 10分 | 可変 | 追加情報が与えられる,選択等はない |
            | 5.議論2 | 10分 | 可変 | 追加情報が与えられる,選択等はない |
            | 6.議論3 | 10分 | 可変 | 追加情報が与えられる,選択等はない |
            | 7.投票 | 3分 | 固定(?) | 最後をどうアクションするか |
            | 8.エンディング | 3分 | 固定 |  |
            | 9.感想戦 | 10分 | 固定 |  |
    2. キャラクターシート * 登場人物分
        - 共通情報+α (表の顔)
        - 隠しプロフィール (裏の顔)
        - 他のキャラへの印象,情報
        - 事件の前後の行動
        - 行動目的とその理由 (行動原理,ゴール)
            - 目標には明確なアクションと点数があると尚良い(投票を1票避ける毎に何点とか,このアイテムを持ってたら何点とか)←これはある程度制限しても良い.システムで計算が必要だから - 一般化した項目は用意
            - ↑自由申告で点数、出しても出さなくても良い
    3. 追加情報 (ここの構造化やシステム化が一番厄介)
        - アイテムの種類 ← これはアイテムの一つ一つ
            1. テキスト(誰が何したとか)
            2. アイテム(画像と説明)
        - 取得の仕方 ← これはゲームの遊び方
            1. システムが決まった人に決まった情報を渡す
            2. 選択して取る
                1. 移動して取るとか,カードをめくって取るとか,は根本的に操作が一緒
                2. ↑ 同じ場所を見ることを許可するかでゲーム性が変わる(1ターン無駄にしてでも相手と同じとこ見るとか)
            
            (公開範囲が [全体公開,部分公開,個人公開] で分かれる)
            
        
        コンポーネントの順番としては
        
        “アイテムが取得できるフェーズ”(つまり進行表のどこか): {
        
        “アイテムの取得の仕方”(システムor選択取得 and 公開範囲): {
          “取得できるアイテム”: {
        
        }
        
        }
        
        } の入れ子構造
        
    4. エンディング(投票を受けて)
        - 分岐毎の物語(分岐計算は結果ベース) # 仮に順位つけるなら点数
    5. 事件の真相 (トリック+α)
        - 誰が
        - どのような手口で
        - 動機などのその他の情報
        - どの証言や証拠を組み合わせれば解けたのか
    6. その他
        - セリフ (初めに, エンディング, 場合によっては中間)
        - マップやイラスト,画像など

1. user: 世界観 言語で入力 [水族館, etc]
2. ai: その世界観にあるアイテム,現象

# 必要なFunction(Step)

1. **userが指定した世界観に登場するアイテムと特殊現象を挙げる**
    - 日本語具体例
        
        ```python
        # 具体例1: 「水族館」
        """
        アイテム: 水槽、水、海水、淡水、魚、クラゲ、デンキナマズ、毒蛇、イソギンチャク、クジラ、サメ、コバンザメ、エイ、水槽の掃除用具、酸素ボンベ、ダイビング用具、シュノーケル、水温センサー、水温管理コンピューター、監視カメラ、魚のえさ、バケツ、タライ、曲芸用の投げ輪、プール、プールへの飛び込み台、ホイッスル、館内放送、館内放送の放送室、氷、売店、受付、カフェ、パンフレット、案内表示、非常口表示、通路用照明、水槽用照明、スプリンクラー…などなど。
        特殊現象: 海水が蒸発して水槽用の照明には塩分が付着する、水槽用照明の掃除には酢酸を使うと落ちる、エビやカニは脱皮する、水の浄化はプロテインスキマーという泡を発生させる装置で泡を発生させて汚れをすくい取る、エイの毒針は定期的に抜く…などなど。
        """
        # 具体例2: 「雪山」
        """
        アイテム: スキー板、スノーボード板、ストック、そり、ゴーグル、ゲレンデ、スノーモービル、圧雪車、人工降雪機、人工造雪機、滑走エリアを示す旗やロープ、リフト、リフトの支柱、リフトの監視小屋、リフトを乗り降りする場所の監視カメラ、休憩室、石油ストーブ、場内放送用のスピーカー、場内放送の放送室、雪、氷、つらら、氷を溶かすための水道施設、スキーのメンテナンス用のワックス、ワックスを塗るコルク、ワックスを除去するリムーバー(薬剤)…などなど。
        特殊現象: 吹雪いたら五メートル先も見えなくなる、雪が多く降っていたら十分もすれば滑った後が消える、大雪になればリフトの途中で飛び降りるのが可能なぐらい雪が積もることがある、川の場所だけは雪が積もらない、木に積もった雪が落ちてくることがある、人工降雪機は稼働まで時間がかかる…などなど。
        """
        ```
        
    - 英語具体例
        
        
    - ~~promptに追加するかもしれない情報~~
        - 特殊現象については自然現象に限らず普通の人は知らないような仕組みや行動も含む
        
        ```python
        special phenomenaの悪い例として
        "world": "学校"
        "special phenomena": [
              "生徒たちの成長や悩み",
              "恋愛の問題や友情の問題",
              "進学や就職に関するプレッシャー",
              "体罰やいじめの問題",
              "先生と生徒の関係性の変動",
              "定期テストや模試の結果によるクラスの雰囲気の変動",
              "文化祭や運動会のための準備や実施",
              "部活動の強化期間や合宿",
              "生徒会活動や学園祭の実施",
              "卒業式や入学式の感動や緊張"
          ]
        のような抽象的な答えは求めていません.
        "world": "学校"
        "special phenomena": [
              "授業中に突然の放送が入り、全校集会が呼び出される",
              "体育の時間に雨が降ると、体育館での授業に切り替わる",
              "生徒たちが黒板の書き残しを見逃し、次の授業で先生に指摘される",
              "放課後、特定の教室が部活動のために使われる",
              "文化祭の準備で、廊下や教室が異常に賑やかになる",
              "定期テスト前になると、図書館や自習室が混雑する",
              "卒業式の日には、教室の窓ガラスに花の飾り付けがなされる",
              "夏の暑い日には、授業中の教室で扇風機やエアコンが稼働する",
              "学校の特定の場所には、生徒たちの落書きやメッセージが隠れている",
              "運動会の練習時、特定のクラスが応援歌を練習する"
          ]
        こちらの例ように具体的でより場面が絞られた現象を求めています.
        ```
        
2. **アイテムと特殊現象に関する常識→反常識→原理(仕組み)・錯覚内容を挙げる (”seeds of torick”)**
    1. 常識をあげる
        - 日本語具体例
            
            ```python
            # 具体例1: 「水族館」
            """
            水槽の常識：向こう側が透けて見える、水槽の内側には水が満たされている、魚が泳いでいる、掃除をする人か給餌をする人以外は入らない、天井は見ない(水面より向こう側は意識して見ない)、水槽の中では人は移動しない、水が満たされた水槽の中は人は移動手段として選ばない、移動するなら通路を使う
            水の常識: 無色透明、向こう側が見える、高いところから低いところへ移動する、水の中では息ができない、人間にとっては移動しにくい、水の中の音は水より外には聞こえにくい
            酸素ボンベの常識：長時間使える、酸素が入っている、水の中でも息ができる
            監視カメラの常識：人を監視するもの、通路を監視するもの、映像は白黒、夜間でもはっきり映る
            -
            エイの毒針は定期的に抜くという現象の常識: 毒針は毒を持っている、毒に刺されたらすぐに応急処置をする必要がある、毒はすぐに捨てる
            """
            # 具体例2: 「雪山」
            """
            スキー板の常識: よく滑る、高い場所から低い場所へ移動する一方通行、間違えるとスキー板だけ滑ってゆくことがある、2本セットである、組み立てることはない、長い、重量感がある、先が曲がっている、硬い、大きくは曲がらない
            リフトの常識: イスもしくはゴンドラを運ぶもの、一定スピードで動く、非常停止できるし乗降客の安全のための一時的に止まることはよくある、イスは等間隔で配置されている、乗り降りする場所は一箇所ずつ、リフトの下に乗っていてボードを持っていない人は係員である、イス形式では、ボードをつけたまま乗る、3~4人を一度に運べる、椅子やゴンドラは取り外しできない、途中で飛び降りることはしない
            ゴーグルの常識: 目を覆うもの、顔に当てる、ゴムバンドで結ばれている、外からだと目は見えない、紫外線を反射するコーティングがされている、よく見えるようにするためのもの
            -
            吹雪いたら五メートル先も見えなくなるという現象の常識: 五メートル以上先の人やものは見えなくなる、場内全てもしくは周辺は全て吹雪に遭っている、音は五メートル以上先でも聞こえる、光は見失いにくい、傾斜とガイドのロープを頼りに進めば場所が分からなくてもロッジに着く
            """
            # 特殊な例: メタレベル
            """
            第1章と第2章は時系列で繋がった話である
            """
            ```
            
        - 英語具体例
            
            ```python
            
            ```
            
        - ~~promptに追加するかもしれない情報~~
            - “常識”とはそのアイテムや現象が持つ”性質”という意味での常識と”使われ方”という意味での常識があり、そのアイテムや現象を事細かに説明する際に伝える項目とも言い換えることができる
            - 特殊現象に対する常識ではAという現象が起こっているということは→Bという現象や行動も起こるよねという情報も入る
    2. 常識を反転して反常識に変える
        - 日本語具体例
            
            ```python
            # 具体例1: 「水族館」
            """
            item: 水槽
            常識1: 向こう側が透けて見える
            反常識1: 向こう側が透けて見えない
            常識2: 掃除をする人か給餌をする人以外は入らない
            反常識2: 掃除や給餌をする人以外が水槽に入る
            常識3: 天井は見ない(水面より向こう側は意識して見ない)
            反常識3: 天井や水面より向こう側に意識を向けさせる
            常識4: 水槽の中では人は移動しない
            反常識4: 水槽の中で人が移動する
            
            item: 水
            常識1: 水の中では息ができない
            反常識1: 水の中でも息ができる
            常識2: 人間にとっては移動しにくい
            反常識2: 人間にとっては移動しやすい
            
            item: 酸素ボンベ
            常識1: 長時間使える
            反常識1: 長時間使えない
            常識2: 酸素が入っている
            反常識2: 酸素が入っていない or 酸素以外のものが入っている
            常識3: 水の中でも息ができる
            反常識3: 水の中では息ができなくなる or 水の外でも息ができる
            
            item: 監視カメラ
            常識1: 通路を監視するもの
            反常識1: 通路を監視しない or 通路以外を監視するもの
            
            trivia: エイの毒針は定期的に抜く
            常識1: エイの毒針は毒を持っている
            反常識1: エイの毒針は毒を持っていない
            常識2: 毒針に刺されたらすぐに応急処置をする必要がある
            反常識2: 毒針に刺されたらすぐに応急処置をしなくても良い or 毒に刺されていなくても応急処置をする
            常識3: エイの毒はすぐに捨てる
            常識4: エイの毒はすぐに捨てない
            """
            # 具体例2: 「雪山」
            """
            item: スキー板
            常識1: よく滑る
            反常識1: 全く滑らないスキー板
            常識2: 高い場所から低い場所へ移動する一方通行
            反常識2: 低い場所から高い場所へ移動するスキー板
            常識3: 間違えるとスキー板だけ滑ってゆくことがある
            反常識3: 故意にスキー板だけを滑らせる or 間違えてもスキー板は勝手に滑らない or 間違ってスキー板だけを滑らせてもその動きを制御できる
            常識4: 2本セットである
            反常識4: 3本セットである or 元々1本しか入っていない
            
            item: リフト
            常識1: イスもしくはゴンドラを運ぶもの
            反常識1: イス以外のものを運ぶもの
            常識2: イスは等間隔で配置されている
            反常識2: イスは等間隔で配置されていない
            常識3: 乗り降りする場所は一箇所ずつ
            反常識3: 他にも乗り降りできる場所がある
            
            trivia: 吹雪いたら五メートル先も見えなくなる
            常識1: 吹雪いたら五メートル以上先の人やものは見えなくなる
            反常識1: 吹雪いても五メートル以上先の人やものを判別できる
            常識2: 吹雪いたら場内全てもしくは周辺全て吹雪に遭っている
            反常識2: ゲレンデが吹雪いても吹雪かない特定の場所がある or 場内が吹雪いても吹雪かない場所を作り出せる
            常識3: 吹雪いたら傾斜とガイドのロープを頼りに進めば場所が分からなくてもロッジに着く
            反常識3: 吹雪いたら傾斜とガイドのロープを頼りに進んでもロッジに着かない
            """
            ```
            
        - 英語具体例
        - ~~promptに追加するかもしれない情報~~
            - 単純に常識の部分否定や完全否定を作れば良い
    3. 反常識を成り立たせる原理(仕組み)と錯覚させる内容を挙げる
        - 日本語具体例
            
            ```python
            # 具体例1: 「水族館」
            """
            反常識: 水族館の水槽の中で人が移動する
            錯覚させる内容: 移動性(通路ではなく水族館の水槽を泳いで移動することで予想外の経路で移動をすることができる)
            原理(仕組み): 泳ぐことで水槽の中を移動できる
            
            反常識: 水の中でも息ができる
            錯覚させる内容: 移動性(通常移動できない距離の水の中を息をすることで移動することができる)
            原理(仕組み): ビニールシートを水中持ち込むことで水槽中の空気排出口の上に空気黙りを作ることができ息継ぎできる
            
            反常識: エイの毒針はすぐに捨てない
            原理(仕組み): 決まったゴミ箱に捨てるため回収が可能 or ダストシュートの途中に網をかけることで特定時間のゴミ(エイの毒針)だけ取得できるようにする
            錯覚させる内容: 能力(エイの毒針を手に入れることができる)
            """
            # 具体例2: 「雪山」
            """
            反常識: 吹雪いても五メートル以上先の人やものを判別できる
            錯覚させる内容: 能力(吹雪で見えないはずのものが見える), 時間(五メートル以内に歩いて近づいて見たという嘘と組み合わせることで近づくまでにかかる時間を錯覚させることができる)
            原理(仕組み): フォグランプを使う or 光を発するアイテムを使うことで吹雪の中でもその光は遠くから見えるようにする or 赤外線もしくは暗視装置で見えるようにする or 音は聞こえるため独自の音を発するようにして判別する
            
            反常識: 全く滑らないスキー板
            錯覚させる内容: 移動性(歩きやすいため標高が同じもしくは高い場所に常識よりも広範囲に移動できる)
            原理(仕組み): クロスカントリー用のワックスは逆にスキー板を滑りにくくするものであるため、スキー板を滑らなくするためにこのワックスを通常のスキー板に塗る or スキー板を滑らなくするために板の裏側に別途スパイクを装着する
            
            反常識: 三本セットのスキー板
            錯覚させる内容: 移動性(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板でより遠くに移動ができる), 時間(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板で短時間で移動ができる)
            原理(仕組み): カバーをしておくことで見えなくする or 実は片一方の板が2枚重ねになっている
            """
            ```
            
        - 英語具体例
        - ~~promptに追加するかもしれない情報~~
            1. 原理(仕組み)について
            - きちんと詳しく設定を作れるのであれば,この地方独特の現象で〇〇が可能とする.のような原理(仕組み)を新しく創作しても良い
            1. 錯覚内容について
            
            ```python
            補足として錯覚内容とはこの反常識によって謎を解く他のプレイヤーに何を錯覚させることができるのかを指し,以下の選択肢の中から選ぶ必要がある.
            ・移動性（場所）：移動する性質や、場所に関する性質を錯覚させる。「その人は犯行現場に行くことはできない」など。
            ・時間：時間を錯覚させる。「その時間にその人はそこにはいなかった」など。
            ・能力：「これがあれば実現可能」、「これがなければ実現不可能」などの、能力に関する性質を錯覚させる。「その所持品や、その場にあるもので犯行を実現するのは不可能」、「凶器が見つからない」など。
            ・視覚（状態）：見た目や、そのものの状態を錯覚させる。「この人はこういう姿だった」、「現場はこういう状態だった」など。
            ・音：音を錯覚させる。「こういう音がした」、「こういう音はしなかった」など。
            ・触覚：手触りや身体的感覚を錯覚させる。「こういう感覚があった」など。
            ・嗅覚：嗅覚、においを錯覚させる。「こういう臭いがした」など。
            ・味覚：味覚、味を錯覚させる。「こういう味がした」など。
            ```
            
3. **複数の”seed”を用いて完全犯罪のシナリオを作る**
    1. トリックが有効になる環境を作り出す
        - 日本語具体例
            
            ```python
            # 具体例1: 「水族館」
            """
            >> input
            反常識: 水族館の水槽の中で人が移動する
            錯覚させる内容: 移動性(通路ではなく水族館の水槽を泳いで移動することで予想外の経路で移動をすることができる)
            原理(仕組み): 泳ぐことで水槽の中を移動できる
            
            反常識: 水の中でも息ができる
            錯覚させる内容: 移動性(通常移動できない距離の水の中を息をすることで移動することができる)
            原理(仕組み): ビニールシートを水中持ち込むことで水槽中の空気排出口の上に空気黙りを作ることができ息継ぎできる
            
            反常識: エイの毒針はすぐに捨てない
            原理(仕組み): 決まったゴミ箱に捨てるため回収が可能 or ダストシュートの途中に網をかけることで特定時間のゴミ(エイの毒針)だけ取得できるようにする
            錯覚させる内容: 能力(エイの毒針を手に入れることができる)
            
            >> output
            ・人が十分に通れるサイズの水槽がある
            ・長い水槽で複数の部屋にまたがっている(水槽を通って別の部屋に出ることができる)
            ・監視カメラがあり、監視カメラは通路を監視しているが、水槽の内部までは映らない角度になっている
            ・ビニールシートが自然にある状況、例えば一部の部屋で工事をしていてそのためにビニールシートを使っているなど
            ・ビニールシートは完全防水で耐圧性がある
            ・複数の部屋にまたがっている長い水槽は途中で人は息継ぎできない仕組みになっている
            ・水槽中の演出もしくは水に酸素を入れるために水槽の中で空気が出る仕組みがある
            ・ダストシュート付近に網がある
            """
            # 具体例2: 「雪山」
            """
            >> input
            反常識: 吹雪いても五メートル以上先の人やものを判別できる
            錯覚させる内容: 能力(吹雪で見えないはずのものが見える), 時間(五メートル以内に歩いて近づいて見たという嘘と組み合わせることで近づくまでにかかる時間を錯覚させることができる)
            原理(仕組み): フォグランプを使う or 光を発するアイテムを使うことで吹雪の中でもその光は遠くから見えるようにする or 赤外線もしくは暗視装置で見えるようにする or 音は聞こえるため独自の音を発するようにして判別する
            
            反常識: 全く滑らないスキー板
            錯覚させる内容: 移動性(歩きやすいため標高が同じもしくは高い場所に常識よりも広範囲に移動できる)
            原理(仕組み): クロスカントリー用のワックスは逆にスキー板を滑りにくくするものであるため、スキー板を滑らなくするためにこのワックスを通常のスキー板に塗る or スキー板を滑らなくするために板の裏側に別途スパイクを装着する
            
            反常識: 三本セットのスキー板
            錯覚させる内容: 移動性(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板でより遠くに移動ができる), 時間(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板で短時間で移動ができる)
            原理(仕組み): カバーをしておくことで見えなくする or 実は片一方の板が2枚重ねになっている
            
            >> output
            ・吹雪が起きること
            ・犯人はスキーヤーで、3本セットのスキー板を持っている
            ・3本セットのスキーは、片方の板が2枚重ねというトリック
            ・2枚重ねのスキーは滑らないワックスが塗られている
            ・犯人は発光するアイテム(小型携帯ライト)を持っている
            ・吹雪になるという悪天候が予想されるが、それでもスキーに出るための理由
            ・犯人は片足が滑りにくい板でもスキーが問題なくできるぐらいの実力を持っている
            ・犯人はクロスカントリーの経験がある
            """
            ```
            
        - 英語具体例
        - ~~promptに追加するかもしれない情報~~
            - そのトリックを使うことができる,また不自然でないための環境や設定をリストアップする
    2. 世界観, 使用するトリック, 必要な環境・設定をもとに完全犯罪の一連の流れを生成
        - 日本語具体例
            
            ```python
            # 具体例1: 「水族館」
            """
            ・反常識「水槽の中で人が移動する」→ 原理:「人は泳ぐことで、移動できる」(「移動性」の錯覚)
            ・反常識「水の中でも息ができる」 → 原理:「酸素ボンベを使う」もしくは「水中に空気だまりを意図的に作る(例えば、「ビニールシートを水中に持ち込むことで、水槽中の空気排出口の上に空気だまりを作ることができ、息継ぎができる」)(「移動性」の錯覚)
            ・反常識「エイの毒針はすぐに捨てない」 → 原理: 「決まったゴミ箱に入れるので、拾うことが可能」もしくは「ダストシュートの途中に網をかけることで、特定時間のゴミだけ取得できるようにする」(「能力」の錯覚)
            >>
            ・「タッチングプール（魚にさわることができる催し物）」のために、水族館スタッフがエイの毒針を抜く。
            ・エイの毒針を捨てる場所は分かっているので、そのダストシュートに投げ込まれるタイミングを見計らって、犯人はダストシュート内に網をかけることで、エイの毒針を入手する。（トリック：網を使う。「能力」を錯覚）
            ・犯人はエイの毒針を、「殺すターゲット」の着るものに仕込む。足止めするために、足に刺さるようにする。
            ・ターゲットがそれを着る時に、足にでも毒針を受ける。そのためターゲットは医務室に入って、処置をしてもらい、安静にする。
            ・犯人は計画的に火事を起こして、館内の人をいなくさせる。ターゲットは医務室で足止めされ、どこにも行けない状況になる。
            ・犯人はビニールシートを使い、息継ぎをしながら水槽内を移動することで、監視カメラにも映らず、ターゲットのいる場所へとたどり着く。（トリック：水槽内移動、ビニールシートトリック。共に「移動性」を錯覚）犯人はターゲットを殺害する。
            ・犯人は復路（帰り道）でビニールシートの空気を捨てて、ビニールシートを水槽から出し、火事に紛れて燃やすことで、証拠隠滅をする。
            ・火事鎮圧後に殺しが発覚しても、犯人は現場まで移動不可能だと錯覚されるため、完全犯罪が成立。
            """
            # 具体例2: 「雪山」
            """
            ・犯人は吹雪を見越して「殺すターゲット」を含めたメンバーをスキーに誘い出す
            ・吹雪が起き、犯人たち一行は吹雪の中、山頂から滑ってロッジまでの長い距離を降りることになる
            ・犯人は「殺すターゲット」が一番最後に降りるとわかっているので、犯人は彼が一番最後になるのを待って近づき、その背中に目印となる発光体をつける。(トリック: 発光するアイテムを使う。視覚・状態を錯覚)
            ・その後、犯人は殺したい人よりも先に降り、全員を追い越して先頭に立つ
            ・犯人は途中で片側のスキー板をわざと滑落させて一枚だけになったように見せる. 滑落した
            続きはここまで出力できてから...
            """
            
            # Formatted
            """
            世界観: 水族館
            trick1: {
            常識と異なる現象: 水族館の水槽の中で人が移動する
            現象の原理: 人は泳ぐごとで移動できる
            謎を解かせる人々に錯覚させる内容: 移動性(通路以外の経路で移動することができる)
            }
            trick2: {
            常識と異なる現象: 水の中でも息ができる
            現象の原理: ビニールシートを水中に持ち込むことで、水槽中の空気排出口の上に空気だまりを作ることができ、息継ぎができる
            謎を解かせる人々に錯覚させる内容: 移動性(息が続かず通れない長さの水槽を移動することができる)
            }
            trick3: {
            常識と異なる現象: エイの毒針はすぐに捨てない
            現象の原理: ダストシュートの途中に網をかけることで、特定時間のゴミだけ取得できるようにする
            謎を解かせる人々に錯覚させる内容: 能力(取得不可と思われた毒針を入手することができる)
            }
            >> 以上のトリックを用いた「水族館」での「完全犯罪のシナリオ」
            ・「タッチングプール（魚にさわることができる催し物）」のために、水族館スタッフがエイの毒針を抜く。
            ・エイの毒針を捨てる場所は分かっているので、そのダストシュートに投げ込まれるタイミングを見計らって、犯人はダストシュート内に網をかけることで、エイの毒針を入手する。（トリック：網を使う。「能力」を錯覚）
            ・犯人はエイの毒針を、「殺すターゲット」の着るものに仕込む。足止めするために、足に刺さるようにする。
            ・ターゲットがそれを着る時に、足にでも毒針を受ける。そのためターゲットは医務室に入って、処置をしてもらい、安静にする。
            ・犯人は計画的に火事を起こして、館内の人をいなくさせる。ターゲットは医務室で足止めされ、どこにも行けない状況になる。
            ・犯人はビニールシートを使い、息継ぎをしながら水槽内を移動することで、監視カメラにも映らず、ターゲットのいる場所へとたどり着く。（トリック：水槽内移動、ビニールシートトリック。共に「移動性」を錯覚）犯人はターゲットを殺害する。
            ・犯人は復路（帰り道）でビニールシートの空気を捨てて、ビニールシートを水槽から出し、火事に紛れて燃やすことで、証拠隠滅をする。
            ・火事鎮圧後に殺しが発覚しても、犯人は現場まで移動不可能だと錯覚されるため、完全犯罪が成立。
            """
            ```
            
        - 英語具体例
        - ~~promptに追加するかもしれない情報~~
    3. 一連の流れを読み直し、論理の穴(修正が必要なトリックや必要な設定)を出力
    4. b,cを踏まえてシナリオを再生成

===

1. **他のプレイヤーが複数の証拠品や証言を組み合わせてギリギリ謎を解けるようにシナリオにハプニングを作り完全犯罪を崩す**
2. **このままだと犯人についての証拠,証言のみしか無くすぐに犯人が特定できてしまうので, 他のプレイヤーを犯人にミスリードするような証拠,証言を追加する**
- memo: input-output format
    
    ```python
    # prompt設計 全て英語
    '''
    1. ユーザーが指定した環境に存在するアイテムと現象をそれぞれ10個ずつ出力する
            item: ["アイテム1", "アイテム2", ...]
            phenomenon: ["現象1", "現象2", ...]
    
    2. ユーザーが指定したアイテムと現象, それぞれの常識と反常識, 原理, 錯覚内容を出力する
        Input:
            - world(string)             : 環境
            - item(string list)         : ["アイテム1", "アイテム2", ...]
            - phenomenon(string list)   : ["現象1", "現象2", ...]
        Output:
            - items(object list)     : [
                                        {
                                            "name" (string)         : "アイテム名",
                                            "normal" (string)       : "常識",
                                            "abnormal" (string)     : "反常識",
                                            "principle" (string)    : "原理",
                                            "illusion" (stling list): "錯覚内容"
                                        } * length(item)
                                    ]
            - phenomena(object list) : [
                                        {
                                            "name" (string)         : "現象名",
                                            "normal" (string)       : "常識",
                                            "abnormal" (string)     : "反常識",
                                            "principle" (string)    : "原理",
                                            "illusion" (stling list): "錯覚内容"
                                        } * length(phenomenon)
                                    ]
    
    3. ユーザーが指定したトリックの素(2で言うところのitem, phenomenon)を元に, 「完全犯罪のシナリオ」を作成する
        Input:
            - tricks (object list) : [
                                        {
                                            "name" (string)         : "アイテム名" or "現象名",
                                            "normal" (string)       : "常識",
                                            "abnormal" (string)     : "反常識",
                                            "principle" (string)    : "原理",
                                            "illusion" (stling list): "錯覚内容"
                                        } * length(tricks)
                                    ]
        Output:
            - scenario (object list): [
                                        {"index": 1, "sentence": "時系列1"},
                                        {"index": 2, "sentence": "時系列2"},
                                        ...
                                        {"index": n, "sentence": "時系列n"}
                                    ]
    
    4. 「完全犯罪のシナリオ」を読み直し、修正が必要なトリックや新たに必要な設定を出力する - ユーザーの修正を手助けするために
        Input:
            - scenario (object list): [
                                        {"index": 1, "sentence": "時系列1"},
                                        {"index": 2, "sentence": "時系列2"},
                                        ...
                                        {"index": n, "sentence": "時系列n"}
                                    ]
        Output:
            - update suggestion (object list): [
                                                    {
                                                        question (string): "現在のシナリオの問題点",
                                                        update (string): "追加もしくは修正すべき事柄"
                                                    } * length(update suggestion)
                                                ]
    
    5. 3,4を踏まえて, 「完全犯罪のシナリオ」を修正する
        Input:
            - scenario (object list): [
                                        {"index": 1, "sentence": "時系列1"},
                                        {"index": 2, "sentence": "時系列2"},
                                        ...
                                        {"index": n, "sentence": "時系列n"}
                                    ]
            - update suggestion (object list): [
                                                    {
                                                        question (string): "現在のシナリオの問題点",
                                                        update (string): "追加もしくは修正すべき事柄"
                                                    } * length(update suggestion)
                                                ]
        Output:
            - updated scenario (object list): [
                                                    {"index": 1, "sentence": "時系列1"},
                                                    {"index": 2, "sentence": "時系列2"},
                                                    ...
                                                    {"index": n, "sentence": "時系列n"}
                                                ]
    
    ===== 一旦ここまでを作る =====
    
    6. 他のプレイヤーが複数の証拠品や証言を組み合わせてギリギリ謎を解けるようにシナリオにハプニングを作り完全犯罪を崩す
        Input:
            - scenario (object list): [
                                        {"index": 1, "sentence": "時系列1"},
                                        {"index": 2, "sentence": "時系列2"},
                                        ...
                                        {"index": n, "sentence": "時系列n"}
                                    ]
        Output:
            - updated scenario (object list): [
                                                    {"index": 1, "sentence": "時系列1"},
                                                    {"index": 2, "sentence": "時系列2"},
                                                    ...
                                                    {"index": m, "sentence": "時系列m"}
                                                ]
            - evidence (object list): [
                                            {
                                                "name" (string): "証拠品名",
                                                "description" (string): "証拠品の説明"
                                            } * length(evidence)
                                        ]
            - testimony (object list): [
                                            {
                                                "description" (string): "証言の内容 (証言者は後から割り当てる)",
                                            } * length(testimony)
    
    7. このままだと犯人についての証拠,証言のみしか無くすぐに犯人が特定できてしまうので, 他のプレイヤーを犯人にミスリードするような証拠,証言を追加する
        Input:
            - scenario (object list): [
                                        {"index": 1, "sentence": "時系列1"},
                                        {"index": 2, "sentence": "時系列2"},
                                        ...
                                        {"index": n, "sentence": "時系列n"}
                                    ]
            - evidence (object list): [
                                            {
                                                "name" (string): "証拠品名",
                                                "description" (string): "証拠品の説明"
                                            } * length(evidence)
                                        ]
            - testimony (object list): [
                                            {
                                                "description" (string): "証言の内容 (証言者は後から割り当てる)",
                                            } * length(testimony)
        Output:
            - updated scenario (object list): [
                                                    {"index": 1, "sentence": "時系列1"},
                                                    {"index": 2, "sentence": "時系列2"},
                                                    ...
                                                    {"index": m, "sentence": "時系列m"}
                                                ]
            - misleading evidence (object list): [
                                                    {
                                                        "name" (string): "証拠品名",
                                                        "description" (string): "証拠品の説明"
                                                    } * length(misleading evidence)
                                                ]
            - misleading testimony (object list): [
                                                    {
                                                        "description" (string): "証言の内容 (証言者は後から割り当てる)",
                                                    } * length(misleading testimony)
                                                ]
    
    8. 犯人や他プレイヤーの人物像を作り, 整合性が取れるように証拠品の使用者や証言を振り分ける, その際には新しい証拠品や証言を追加したり, 既存の証拠品や証言を修正する
    
    '''
    ```
    

# Web上でもいいのでうまくいった例欲しい

- attempt
    1. userが指定した世界観に登場するアイテムと特殊事象を挙げる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. これから事件のトリックを考えていきます.
            手始めに"登山"に存在するアイテムと特殊事象について10個ずつ列挙せよ.
            出力形式はそれぞれ”items”と"trivia"をkeyにしたarrayとし, {"items": ["a", "b", ...], "trivia": ["a", "b", ...]}のjsonで出力せよ.
            -
            アイテムと特殊事象についての説明は以下の通りです.
            -
            1. アイテム(items)
            ・指定された世界観に存在するアイテムを列挙する
            例1: "水族館"に存在するアイテム
            [\"水槽\",\"水\",\"デンキナマズ\",\"毒蛇\",\"エイ\",\"水温センサー\",\"水温管理コンピューター\",\"監視カメラ\",\"館内放送\",\"非常口表示\"] など. 
            例2: "雪山"に存在するアイテム
            [\"スキー板\",\"スノーボード板\",\"スノーモービル\",\"圧雪車\",\"人工降雪機\",\"滑走エリアを示す旗やロープ\",\"リフト\",\"リフトを乗り降りする場所の監視カメラ\",\"ワックスを塗るコルク\",\"ワックスを除去するリムーバー\"] など.
            -
            2. 特殊事象(phenomenon, trivia)
            ・指定された世界観で起こる特殊な事象や普通の人は知らないような仕組みや行動を指す.
            ・気持ちなどの曖昧なものではなく具体的な事柄を挙げる.
            例1: "水族館"で考えられる特殊事象
            [\"海水が蒸発して水槽用の照明には塩分が付着する\",\"水槽用照明の掃除には酢酸を使うと落ちる\",\"エビやカニは脱皮する\",\"水の浄化はプロテインスキマーという泡を発生させる装置で泡を発生させて汚れをすくい取る\",\"エイの毒針は定期的に抜く\"] など. 
            例2: "雪山"で考えられる特殊事象
            [\"吹雪いたら五メートル先も見えなくなる\",\"雪が多く降っていたら十分もすれば滑った後が消える\",\"大雪になればリフトの途中で飛び降りるのが可能なぐらい雪が積もることがある\",\"川の場所だけは雪が積もらない\",\"木に積もった雪が落ちてくることがある\",\"人工降雪機は稼働まで時間がかかる\"] など."""
            ```
            
        - output
            
            ```python
            """
            {
            		"items": [
            				"ロープ",
            				"カラビナ",
            				"クライミングハーネス",
            				"ヘルメット",
            				"登山靴",
            				"ピッケル",
            				"クライミングロープ",
            				"テント",
            				"コンパス",
            				"登山用の食料"
            		],
            		"trivia": [
            				"高所での気圧の変化による耳のポップ",
            				"標高が高くなるにつれて気温が低下する",
            				"高度が高くなると酸素濃度が低くなる",
            				"登山者は高度頭痛を経験することがある",
            				"岩や土の種類によって登山の難易度が異なる",
            				"登山ルートには難易度のランクがある",
            				"天候の急変は登山者にとって大きなリスクとなる",
            				"登山中には山小屋で休憩や宿泊をすることがある",
            				"登山者は特定の地点で安全確認を行うことがある",
            				"登山者は困難な状況でも冷静に判断し行動する訓練を受けている"
            		]
            }
            """
            ```
            
        - user selection
            
            ```python
            """
            {
            		"items": [
            				"ロープ",
            				"カラビナ",
            				"クライミングハーネス",
            				"ヘルメット",
            				"登山靴",
            				"ピッケル",
            				"クライミングロープ",
            				"テント",
            				"コンパス",
            				"登山用の食料"
            		],
            		"trivia": [
            				"高所での気圧の変化による耳のポップ",
            				"標高が高くなるにつれて気温が低下する",
            				"高度が高くなると酸素濃度が低くなる",
            				"岩や土の種類によって登山の難易度が異なる",
            				"登山ルートには難易度のランクがある",
            				"天候の急変は登山者にとって大きなリスクとなる",,
            				"雨が降ると土砂崩れのリスクが高まる",
            				"雪や霧によってホワイトアウトが発生すると周辺が見えなくなる"
            		]
            }
            """
            ```
            
    2. アイテム, 特殊事象に対する常識をあげる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. step-by-stepで事件のトリックを考えていきます.
            先ほど"登山"という世界観のもと以下のアイテムと特殊事象を列挙してもらいました.
            -
            {"items": ["ロープ","カラビナ","クライミングハーネス","ヘルメット","登山靴","ピッケル","クライミングロープ","テント","コンパス","登山用の食料"],
            "trivia": ["高所での気圧の変化による耳のポップ","標高が高くなるにつれて気温が低下する","高度が高くなると酸素濃度が低くなる","岩や土の種類によって登山の難易度が異なる","登山ルートには難易度のランクがある","天候の急変は登山者にとって大きなリスクとなる",,"雨が降ると土砂崩れのリスクが高まる","雪や霧によってホワイトアウトが発生すると周辺が見えなくなる"]}
            -
            task: 続いてこれらの事柄1つ1つに対してその物が持つ"常識"を挙げてもらいます. 1つの事柄につき3~5個程度の常識を上げてください. 
            -
            出力する"常識"についての説明は以下の通りです.
            -
            1. 常識(common sense)
            ・アイテムまたは特殊事象が事実として持っている性質や使われ方のこと
            例1: "水族館"に存在するアイテムまたは特殊事象に対して
            "水槽"に対する常識: [\"向こう側が透けて見える\", \"水槽の内側には水が満たされている\", \"魚が泳いでいる\", \"掃除をする人か給餌をする人以外は入らない\", \"天井は見ない(水面より向こう側は意識して見ない)\", \"水槽の中では人は移動しない\", \"水が満たされた水槽の中は人は移動手段として選ばない\", \"移動するなら通路を使う\"] 
            "水"に対する常識: [\"無色透明\", \"向こう側が見える\", \"高いところから低いところへ移動する\", \"水の中では息ができない\", \"人間にとっては移動しにくい\", \"水の中の音は水より外には聞こえにくい\"] 
            "エイの毒針は定期的に抜くという現象に対する常識: [\"毒針は毒を持っている\", \"毒に刺されたらすぐに応急処置をする必要がある\", \"毒はすぐに捨てる\"] 
            例2: "雪山"に存在するアイテムまたは特殊事象に対して
            "スキー板"に対する常識: [\"よく滑る\", \"高い場所から低い場所へ移動する一方通行\", \"間違えるとスキー板だけ滑ってゆくことがある\", \"2本セットである\", \"組み立てることはない\", \"長い\", \"重量感がある\", \"先が曲がっている\", \"硬い\", \"大きくは曲がらない\"]
            "リフト"に対する常識: [\"イスもしくはゴンドラを運ぶもの\", \"一定スピードで動く\", \"非常停止できるし乗降客の安全のための一時的に止まることはよくある\", \"イスは等間隔で配置されている\", \"乗り降りする場所は一箇所ずつ\", \"リフトの下に乗っていてボードを持っていない人は係員である\", \"イス形式では、ボードをつけたまま乗る\", \"3~4人を一度に運べる\", \"椅子やゴンドラは取り外しできない\", \"途中で飛び降りることはしない\"]
            "吹雪いたら五メートル先も見えなくなるという現象に対する常識: [\"五メートル以上先の人やものは見えなくなる\", \"場内全てもしくは周辺は全て吹雪に遭っている\", \"音は五メートル以上先でも聞こえる\", \"光は見失いにくい\", \"傾斜とガイドのロープを頼りに進めば場所が分からなくてもロッジに着く\"]
            """
            ```
            
        - output
            
            ```python
            """
            アイテムに対する常識:
            
            - ロープ
            長くて柔軟性がある
            重さや摩擦によって磨耗する
            登山者の安全を確保するために使われる
            
            - カラビナ
            金属製で丈夫
            ロープを通したり、固定したりするために使用
            開閉部があり、きちんと閉じないと危険
            
            - クライミングハーネス
            体の中心部に装着する
            落下時の安全を確保するためのアイテム
            適切に装着しないと機能しない
            
            - ヘルメット
            頭部を保護する
            落石や転倒時の衝撃から守る
            調節可能なストラップが付いている
            
            - 登山靴
            足元を守り、滑りにくい
            防水で通気性がある
            履き心地が硬いことが多い
            
            - ピッケル
            氷や雪を削るためのもの
            片手で持ち、刃と柄がある
            滑落時にブレーキとしても使われる
            
            - クライミングロープ
            他のロープよりも強度が高い
            伸縮性があり、衝撃を吸収する
            結び目や摩擦で劣化する
            
            - テント
            外部の要素から保護する
            設営や撤収には時間がかかることがある
            防風・防水機能が重要
            
            - コンパス
            方角を示す
            電子機器に依存せずに使用できる
            磁場の影響を受けやすい
            
            - 登山用の食料
            軽量で栄養価が高い
            保存が効くものが多い
            調理には簡単な手間がかかることがある
            
            特殊事象に対する常識:
            
            - 高所での気圧の変化による耳のポップ
            耳の中の気圧が外部と均衡を取ろうとする
            突然の高度変化で起こりやすい
            耳を押さえたり、口を開けたりすることで軽減されることがある
            
            - 標高が高くなるにつれて気温が低下する
            高度100mごとに約0.6度下がると言われる
            高山病のリスクも上がる
            防寒対策が必要
            
            - 高度が高くなると酸素濃度が低くなる
            高山病の原因
            息苦しさや頭痛が起こりやすい
            酸素ボンベが必要になることがある
            
            - 岩や土の種類によって登山の難易度が異なる
            硬い岩は滑りにくいが、破壊されやすい
            柔らかい土は滑りやすい
            適切な装備や技術が求められる
            
            - 登山ルートには難易度のランクがある
            初心者向けから上級者向けまでランク分けされる
            難易度に応じて必要な装備や技術が変わる
            ルート選びは事前の情報収集が必要
            
            - 天候の急変は登山者にとって大きなリスクとなる
            予報と異なる天気が突如として現れることがある
            適切な装備や知識がないと危険
            天候の変化を予測する能力が求められる
            
            - 雨が降ると土砂崩れのリスクが高まる
            土の固まりが弱まり、崩れやすくなる
            通行止めや避難が必要になることがある
            予報や注意報を常にチェックする必要がある
            
            - 雪や霧によってホワイトアウトが発生すると周辺が見えなくなる
            視界が極端に低下する
            方向感覚を失いやすい
            ガイドロープや目印を利用して進む必要がある
            """
            ```
            
        - user selection
            
            ```python
            """
            アイテムに対する常識:
            
            - クライミングハーネス
            体の中心部に装着する
            落下時の安全を確保するためのアイテム
            適切に装着しないと機能しない
            
            - ピッケル
            氷や雪を削るためのもの
            片手で持ち、刃と柄がある
            滑落時にブレーキとしても使われる
            
            - クライミングロープ
            他のロープよりも強度が高い
            伸縮性があり、衝撃を吸収する
            結び目や摩擦で劣化する
            
            - テント
            外部の要素から保護する
            設営や撤収には時間がかかることがある
            防風・防水機能が重要
            
            特殊事象に対する常識:
            
            - 高所での気圧の変化による耳のポップ
            耳の中の気圧が外部と均衡を取ろうとする
            突然の高度変化で起こりやすい
            耳を押さえたり、口を開けたりすることで軽減されることがある
            
            - 標高が高くなるにつれて気温が低下する
            高度100mごとに約0.6度下がると言われる
            高山病のリスクも上がる
            防寒対策が必要
            
            - 高度が高くなると酸素濃度が低くなる
            高山病の原因
            息苦しさや頭痛が起こりやすい
            酸素ボンベが必要になることがある
            
            - 岩や土の種類によって登山の難易度が異なる
            硬い岩は滑りにくいが、破壊されやすい
            柔らかい土は滑りやすい
            適切な装備や技術が求められる
            
            - 天候の急変は登山者にとって大きなリスクとなる
            予報と異なる天気が突如として現れることがある
            適切な装備や知識がないと危険
            天候の変化を予測する能力が求められる
            
            - 雨が降ると土砂崩れのリスクが高まる
            土の固まりが弱まり、崩れやすくなる
            通行止めや避難が必要になることがある
            予報や注意報を常にチェックする必要がある
            
            - 雪や霧によってホワイトアウトが発生すると周辺が見えなくなる
            視界が極端に低下する
            方向感覚を失いやすい
            ガイドロープや目印を利用して進む必要がある
            """
            ```
            
    3. アイテム, 特殊事象に対する常識の反常識(否定または部分否定)を挙げる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. step-by-stepで事件のトリックを考えていきます.
            先ほど"登山"という世界観のもと以下のアイテムと特殊事象を列挙してもらいました.
            -
            "アイテムに対する常識": {
            "クライミングハーネス": ["体の中心部に装着する", "落下時の安全を確保するためのアイテム", "適切に装着しないと機能しない"],
            "ピッケル": ["氷や雪を削るためのもの", "片手で持ち、刃と柄がある", "滑落時にブレーキとしても使われる"],
            "クライミングロープ": ["他のロープよりも強度が高い", "伸縮性があり、衝撃を吸収する", "結び目や摩擦で劣化する"],
            "テント": ["外部の要素から保護する", "設営や撤収には時間がかかることがある", "防風・防水機能が重要"]
            },
            "特殊事象に対する常識": {
            "高所での気圧の変化による耳のポップ": ["耳の中の気圧が外部と均衡を取ろうとする", "突然の高度変化で起こりやすい", "耳を押さえたり、口を開けたりすることで軽減されることがある"],
            "標高が高くなるにつれて気温が低下する": ["高度100mごとに約0.6度下がると言われる", "高山病のリスクも上がる", "防寒対策が必要"],
            "高度が高くなると酸素濃度が低くなる": ["高山病の原因", "息苦しさや頭痛が起こりやすい", "酸素ボンベが必要になることがある"],
            "岩や土の種類によって登山の難易度が異なる": ["硬い岩は滑りにくいが、破壊されやすい", "柔らかい土は滑りやすい", "適切な装備や技術が求められる"],
            "天候の急変は登山者にとって大きなリスクとなる": ["予報と異なる天気が突如として現れることがある", "適切な装備や知識がないと危険", "天候の変化を予測する能力が求められる"],
            "雨が降ると土砂崩れのリスクが高まる": ["土の固まりが弱まり、崩れやすくなる", "通行止めや避難が必要になることがある", "予報や注意報を常にチェックする必要がある"],
            "雪や霧によってホワイトアウトが発生すると周辺が見えなくなる": ["視界が極端に低下する", "方向感覚を失いやすい", "ガイドロープや目印を利用して進む必要がある"]}
            -
            それを踏まえて次はトリックの元になる"常識の否定または部分否定"(反常識)を各アイテムまたは特殊事象につき1つ挙げてもらいます.
            -
            具体例1: 「水族館」
            [{"常識": "向こう側が透けて見える", "反常識": "向こう側が透けて見えない"},
            {"常識": "掃除をする人か給餌をする人以外は入らない", "反常識": "掃除や給餌をする人以外が水槽に入る"},
            {"常識": "天井は見ない(水面より向こう側は意識して見ない)", "反常識": "天井や水面より向こう側に意識を向けさせる"},
            {"常識": "水槽の中では人は移動しない", "反常識": "水槽の中で人が移動する"},
            {"常識": "水の中では息ができない", "反常識": "水の中でも息ができる"},
            {"常識": "人間にとっては移動しにくい", "反常識": "人間にとっては移動しやすい"},
            {"常識": "長時間使える", "反常識": "長時間使えない"},
            {"常識": "酸素が入っている", "反常識": "酸素が入っていない or 酸素以外のものが入っている"},
            {"常識": "水の中でも息ができる", "反常識": "水の中では息ができなくなる or 水の外でも息ができる"},
            {"常識": "通路を監視するもの", "反常識": "通路を監視しない or 通路以外を監視するもの"},
            {"常識": "エイの毒針は毒を持っている", "反常識": "エイの毒針は毒を持っていない"},
            {"常識": "毒針に刺されたらすぐに応急処置をする必要がある", "反常識": "毒針に刺されたらすぐに応急処置をしなくても良い or 毒に刺されていなくても応急処置をする"}]
            具体例2: 「雪山」
            [{"常識": "よく滑る", "反常識": "全く滑らないスキー板"},
            {"常識": "高い場所から低い場所へ移動する一方通行", "反常識": "低い場所から高い場所へ移動するスキー板"},
            {"常識": "間違えるとスキー板だけ滑ってゆくことがある", "反常識": "故意にスキー板だけを滑らせる or 間違えてもスキー板は勝手に滑らない or 間違ってスキー板だけを滑らせてもその動きを制御できる"},
            {"常識": "2本セットである", "反常識": "3本セットである or 元々1本しか入っていない"},
            {"常識": "イスもしくはゴンドラを運ぶもの", "反常識": "イス以外のものを運ぶもの"},
            {"常識": "イスは等間隔で配置されている", "反常識": "イスは等間隔で配置されていない"},
            {"常識": "乗り降りする場所は一箇所ずつ", "反常識": "他にも乗り降りできる場所がある"},
            {"常識": "吹雪いたら五メートル以上先の人やものは見えなくなる", "反常識": "吹雪いても五メートル以上先の人やものを判別できる"},
            {"常識": "吹雪いたら場内全てもしくは周辺全て吹雪に遭っている", "反常識": "ゲレンデが吹雪いても吹雪かない特定の場所がある or 場内が吹雪いても吹雪かない場所を作り出せる"},
            {"常識": "吹雪いたら傾斜とガイドのロープを頼りに進めば場所が分からなくてもロッジに着く", "反常識": "吹雪いたら傾斜とガイドのロープを頼りに進んでもロッジに着かない"}]
            -
            次のステップの情報も参考として与えると以下のように,その反常識をトリックとして使う際にどのような仕組みならその反常識が起こりうるのかを挙げてもらいます.
            反常識: 吹雪いても五メートル以上先の人やものを判別できる
            錯覚させる内容: 能力(吹雪で見えないはずのものが見える), 時間(五メートル以内に歩いて近づいて見たという嘘と組み合わせることで近づくまでにかかる時間を錯覚させることができる)
            原理(仕組み): フォグランプを使う or 光を発するアイテムを使うことで吹雪の中でもその光は遠くから見えるようにする or 赤外線もしくは暗視装置で見えるようにする or 音は聞こえるため独自の音を発するようにして判別する
            そのため,今回のステップで反常識を挙げるにあたり元となる常識を1つ選ぶ際には抽象的な文より具体的な文を優先してください.
            """
            ```
            
        - output
            
            ```python
            """
            1. クライミングハーネス
            常識: 体の中心部に装着する
            反常識: 体の中心部以外の場所に装着する
            2. ピッケル
            常識: 滑落時にブレーキとしても使われる
            反常識: 滑落時にブレーキとして機能しないピッケル
            3. クライミングロープ
            常識: 結び目や摩擦で劣化する
            反常識: 結び目や摩擦があっても全く劣化しないロープ
            4. テント
            常識: 防風・防水機能が重要
            反常識: 防風・防水機能が全くないテント
            5. 高所での気圧の変化による耳のポップ
            常識: 突然の高度変化で起こりやすい
            反常識: 高度変化があっても全く耳のポップが起こらない
            6. 標高が高くなるにつれて気温が低下する
            常識: 高度100mごとに約0.6度下がると言われる
            反常識: 高度が上がっても気温が変わらない
            7. 高度が高くなると酸素濃度が低くなる
            常識: 高山病の原因
            反常識: 高度が上がっても酸素濃度が変わらない場所
            8. 岩や土の種類によって登山の難易度が異なる
            常識: 硬い岩は滑りにくいが、破壊されやすい
            反常識: 硬い岩でも滑りやすい
            9. 天候の急変は登山者にとって大きなリスクとなる
            常識: 予報と異なる天気が突如として現れることがある
            反常識: 予報と全く異なる天気が現れることがない
            10. 雨が降ると土砂崩れのリスクが高まる
            常識: 土の固まりが弱まり、崩れやすくなる
            反常識: 土が雨で強固になり、崩れにくくなる
            11. 雪や霧によってホワイトアウトが発生すると周辺が見えなくなる
            常識: 視界が極端に低下する
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            これらの反常識は、物語やトリックの元として使用する際に、さまざまな仕掛けや状況を想像する材料として役立つでしょう。
            """
            
            ```
            
        - user selection
            
            ```python
            """
            1. クライミングハーネス
            常識: 体の中心部に装着する
            反常識: 体の中心部以外の場所に装着する
            2. ピッケル
            常識: 滑落時にブレーキとしても使われる
            反常識: 滑落時にブレーキとして機能しないピッケル
            3. クライミングロープ
            常識: 結び目や摩擦で劣化する
            反常識: 結び目や摩擦があっても全く劣化しないロープ
            4. テント
            常識: 防風・防水機能が重要
            反常識: 防風・防水機能が全くないテント
            5. 高所での気圧の変化による耳のポップ
            常識: 突然の高度変化で起こりやすい
            反常識: 高度変化があっても全く耳のポップが起こらない
            6. 標高が高くなるにつれて気温が低下する
            常識: 高度100mごとに約0.6度下がると言われる
            反常識: 高度が上がっても気温が変わらない
            7. 高度が高くなると酸素濃度が低くなる
            常識: 高山病の原因
            反常識: 高度が上がっても酸素濃度が変わらない場所
            8. 岩や土の種類によって登山の難易度が異なる
            常識: 硬い岩は滑りにくいが、破壊されやすい
            反常識: 硬い岩でも滑りやすい
            9. 天候の急変は登山者にとって大きなリスクとなる
            常識: 予報と異なる天気が突如として現れることがある
            反常識: 予報と全く異なる天気が現れることがない
            10. 雨が降ると土砂崩れのリスクが高まる
            常識: 土の固まりが弱まり、崩れやすくなる
            反常識: 土が雨で強固になり、崩れにくくなる
            11. 雪や霧によってホワイトアウトが発生すると周辺が見えなくなる
            常識: 視界が極端に低下する
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            これらの反常識は、物語やトリックの元として使用する際に、さまざまな仕掛けや状況を想像する材料として役立つでしょう。
            """
            
            ```
            
    4. 反常識を成り立たせる原理,錯覚させる内容をあげる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. step-by-stepで事件のトリックを考えていきます.
            ある事柄に対して通常起こり得ない現象や性質を反常識を言います.
            今次の事柄に対して常識と反常識を挙げました.
            -
            世界観: "登山"
            1. ピッケル
            常識: 滑落時にブレーキとしても使われる
            反常識: 滑落時にブレーキとして機能しないピッケル
            2. 雨が降ると土砂崩れのリスクが高まる
            常識: 土の固まりが弱まり、崩れやすくなる
            反常識: 土が雨で強固になり、崩れにくくなる
            3. 雪や霧によってホワイトアウトが発生すると周辺が見えなくなる
            常識: 視界が極端に低下する
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            -
            反常識をトリックに用いることで簡単には解かれにくいトリックを作ることができます.
            そこで先ほど挙げた反常識が成り立つような環境や仕組みと, 
            反常識が成り立った場合に事件を解くユーザーにどのような錯覚を起こさせることができるのかを記述してください.
            原理については事象を創造しても良いのでなるべく具体的に記述してください.
            反常識に対する仕組みと錯覚内容の例を以下に示します.
            -
            例1) 世界観: "水族館"
            反常識: 水族館の水槽の中で人が移動する
            錯覚させる内容: 移動性(通路ではなく水族館の水槽を泳いで移動することで予想外の経路で移動をすることができる)
            原理(仕組み): 泳ぐことで水槽の中を移動できる
            反常識: 水の中でも息ができる
            錯覚させる内容: 移動性(通常移動できない距離の水の中を息をすることで移動することができる)
            原理(仕組み): ビニールシートを水中持ち込むことで水槽中の空気排出口の上に空気黙りを作ることができ息継ぎできる
            反常識: エイの毒針はすぐに捨てない
            原理(仕組み): 決まったゴミ箱に捨てるため回収が可能 or ダストシュートの途中に網をかけることで特定時間のゴミ(エイの毒針)だけ取得できるようにする
            錯覚させる内容: 能力(エイの毒針を手に入れることができる)
            例2) 世界観: "雪山"
            反常識: 吹雪いても五メートル以上先の人やものを判別できる
            錯覚させる内容: 能力(吹雪で見えないはずのものが見える), 時間(五メートル以内に歩いて近づいて見たという嘘と組み合わせることで近づくまでにかかる時間を錯覚させることができる)
            原理(仕組み): フォグランプを使う or 光を発するアイテムを使うことで吹雪の中でもその光は遠くから見えるようにする or 赤外線もしくは暗視装置で見えるようにする or 音は聞こえるため独自の音を発するようにして判別する
            反常識: 全く滑らないスキー板
            錯覚させる内容: 移動性(歩きやすいため標高が同じもしくは高い場所に常識よりも広範囲に移動できる)
            原理(仕組み): クロスカントリー用のワックスは逆にスキー板を滑りにくくするものであるため、スキー板を滑らなくするためにこのワックスを通常のスキー板に塗る or スキー板を滑らなくするために板の裏側に別途スパイクを装着する
            反常識: 三本セットのスキー板
            錯覚させる内容: 移動性(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板でより遠くに移動ができる), 時間(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板で短時間で移動ができる)
            原理(仕組み): カバーをしておくことで見えなくする or 実は片一方の板が2枚重ねになっている
            """
            
            ```
            
        - output
            
            ```python
            """
            世界観: "登山"
            
            反常識: 滑落時にブレーキとして機能しないピッケル
            錯覚させる内容: 能力(ピッケルの効果を知っている登山者が滑落したと思わせるが、実は滑落しない)
            原理(仕組み): ピッケルの刃部分が折り畳み式であり、使い方を間違えると正しく機能しない。または、特定の素材の氷や雪ではピッケルが滑るような特殊なコーティングがされている。
            
            反常識: 土が雨で強固になり、崩れにくくなる
            錯覚させる内容: 移動性(通るのが不可と思われた道を通ることができる)
            原理(仕組み): 地下にある特殊な鉱石が雨水と反応して固化作用を持つ。この鉱石が含まれる地域では雨が降ると土砂崩れのリスクが減少する。
            
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            錯覚させる内容: 能力(ホワイトアウト中でも目的地や他の登山者の位置を知っている)
            原理(仕組み): 登山者が持っている特殊なゴーグルや眼鏡が、ホワイトアウトの白さを透過させる特定の波長の光を放出しており、これによって視界が確保される。もしくは、音響デバイスを使用して位置を知ることができる。
            
            -
            
            世界観: "登山"
            
            反常識: 滑落時にブレーキとして機能しないピッケル
            原理(仕組み): ピッケルの先端部分が折れやすい材質でできており、滑落時に雪や氷に差し込むとすぐに折れてしまう。
            錯覚させる内容: 能力(通常のピッケルとは違い、特定の条件下で機能しないことを利用してアリバイ作りや犯行を実行する)
            
            反常識: 土が雨で強固になり、崩れにくくなる
            原理(仕組み): 地域特有の土壌があり、雨が降るとその土壌が特定の化学反応を起こし、固まる性質を持つ。
            錯覚させる内容: 環境(登山者や地元の人々が知らないこの特性を利用して、雨が降った後の特定の場所で事件を起こす)
            
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            原理(仕組み): 特定の視界補助装置(例:高度なAR技術を利用したゴーグル)を使用することで、周囲の景色や人々の位置をリアルタイムで映し出す。
            錯覚させる内容: 能力(ホワイトアウト中にも他の人たちとは違う動きをすることができ、それを利用して事件を起こすやアリバイを作る)
            
            -
            
            世界観: "登山"
            
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            原理(仕組み): 特定の地域の雪や霧は特定の周波数の光を放つ生物や鉱物が含まれている。この光の周波数は通常の人の目には見えないが、特定のフィルターを持つゴーグルやレンズを使うことで、周囲の景色を普通に見ることができる。
            錯覚させる内容: 能力・知識(特定のゴーグルやレンズを知っている、あるいは持っている人だけがホワイトアウトの中でも通常の視界を持っていると感じる。これを利用して、犯行を行ったり、他の登山者から隠れることができる。)
            
            -
            
            世界観: "登山"
            
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            原理(仕組み): 特定の地域に生える植物「シロミツバ」は、雪や霧の中で微弱な生物発光を放つ。この発光は、ホワイトアウト時の雪や霧の粒子に反応して、特定のパターンを形成し、地形や物体を一部浮き彫りにする。この特性を知っている者は、ホワイトアウト時でも特定のゴーグルを使用することで、これらのパターンを読み取り、一定の視界を得ることができる。
            錯覚させる内容: 知識(「シロミツバ」の存在やその特性を知らない者は、ホワイトアウト中に他の人が通常の視界を持って動いているのを不思議に思う。また、この特性を利用して、犯行を行ったり、他の登山者から隠れることができる。)
            """
            ```
            
    5. 完全犯罪のシナリオを作る
        - 一つのトリックからシナリオを作るテスト
            - input
                
                ```python
                """
                あなたはマーダーミステリー作家です. 
                以下の世界観とトリックの種を使った犯行の一連の流れを考えてください.
                -
                他の世界観での例を以下に示します.
                世界観: 水族館
                trick1: {
                常識と異なる現象: 水族館の水槽の中で人が移動する
                現象の原理: 人は泳ぐごとで移動できる
                謎を解かせる人々に錯覚させる内容: 移動性(通路以外の経路で移動することができる)
                }
                trick2: {
                常識と異なる現象: 水の中でも息ができる
                現象の原理: ビニールシートを水中に持ち込むことで、水槽中の空気排出口の上に空気だまりを作ることができ、息継ぎができる
                謎を解かせる人々に錯覚させる内容: 移動性(息が続かず通れない長さの水槽を移動することができる)
                }
                trick3: {
                常識と異なる現象: エイの毒針はすぐに捨てない
                現象の原理: ダストシュートの途中に網をかけることで、特定時間のゴミだけ取得できるようにする
                謎を解かせる人々に錯覚させる内容: 能力(取得不可と思われた毒針を入手することができる)
                }
                >> 以上のトリックを用いた「水族館」での「完全犯罪のシナリオ」
                ・「タッチングプール（魚にさわることができる催し物）」のために、水族館スタッフがエイの毒針を抜く。
                ・エイの毒針を捨てる場所は分かっているので、そのダストシュートに投げ込まれるタイミングを見計らって、犯人はダストシュート内に網をかけることで、エイの毒針を入手する。（トリック：網を使う。「能力」を錯覚）
                ・犯人はエイの毒針を、「殺すターゲット」の着るものに仕込む。足止めするために、足に刺さるようにする。
                ・ターゲットがそれを着る時に、足にでも毒針を受ける。そのためターゲットは医務室に入って、処置をしてもらい、安静にする。
                ・犯人は計画的に火事を起こして、館内の人をいなくさせる。ターゲットは医務室で足止めされ、どこにも行けない状況になる。
                ・犯人はビニールシートを使い、息継ぎをしながら水槽内を移動することで、監視カメラにも映らず、ターゲットのいる場所へとたどり着く。（トリック：水槽内移動、ビニールシートトリック。共に「移動性」を錯覚）犯人はターゲットを殺害する。
                ・犯人は復路（帰り道）でビニールシートの空気を捨てて、ビニールシートを水槽から出し、火事に紛れて燃やすことで、証拠隠滅をする。
                ・火事鎮圧後に殺しが発覚しても、犯人は現場まで移動不可能だと錯覚されるため、完全犯罪が成立。
                -
                世界観: 登山
                trick1: {
                常識と異なる現象: 土が雨で強固になり、崩れにくくなる
                現象の原理: 地下にある特殊な鉱石が雨水と反応して固化作用を持つ。この鉱石が含まれる地域では雨が降ると土砂崩れのリスクが減少する。
                謎を解かせる人々に錯覚させる内容: 移動性(通るのが不可と思われた道を通り被害者のもとへ行くことができる)
                }
                >> 以上のトリックを用いた「登山」での「完全犯罪のシナリオ」
                ...続きを出力
                """
                
                ```
                
            - output
                
                ```python
                """
                「登山」での「完全犯罪のシナリオ」
                
                ・犯人とターゲットは登山仲間として、特定の登山ルートを使って山に登る予定を立てる。このルートは、天気が良いと通常は土砂崩れのリスクが高くて通行禁止になる箇所がある。
                ・犯人は、前述の土砂崩れリスクがある箇所にある特殊な鉱石の情報を事前に入手しており、雨が降るとその箇所が固まり通行できることを知っている。（トリック：特殊な鉱石の反応。「移動性」を錯覚）
                ・犯人は天気予報をチェックし、予定日に雨が降ることを確認。その日に山登りを提案する。
                ・山に登る当日、犯人はターゲットと一緒に登山を開始。途中で予定通り雨が降り始める。
                ・雨が降ったことで、土砂崩れリスクのある箇所が固まり、他の登山者はその箇所を避けるが、犯人とターゲットはその道を進む。
                ・犯人は、通常誰も通らないこの道を利用して、ターゲットを何も警戒していない場所で殺害する。
                ・殺害後、犯人は同じ道を下山。雨が止むとその道は再び土砂崩れリスクが高くなり、通常の登山者はその箇所を避けるため、犯人の行動が目撃されることはない。
                ・ターゲットの遺体は、雨で崩れた土に埋まってしまう可能性が高く、発見されることは少ない。
                ・万が一、遺体が見つかった場合でも、犯人はその場所を通ったという証拠はなく、完全犯罪が成立。
                ・このように、特定の知識と環境を利用して犯罪を行うことで、通常では考えられないような方法で犯行を隠蔽することが可能となる。
                
                {
                	"1": ---,
                	"2": ---,
                }
                
                """
                ```
                
        - 二つのトリックからシナリオを作るテスト
            - input1
                
                ```python
                """
                あなたはマーダーミステリー作家です. 
                以下の世界観とトリックの種を使った犯行の一連の流れを考えてください.
                -
                他の世界観での例を以下に示します.
                世界観: 水族館
                trick1: {
                常識と異なる現象: 水族館の水槽の中で人が移動する
                現象の原理: 人は泳ぐごとで移動できる
                謎を解かせる人々に錯覚させる内容: 移動性(通路以外の経路で移動することができる)
                }
                trick2: {
                常識と異なる現象: 水の中でも息ができる
                現象の原理: ビニールシートを水中に持ち込むことで、水槽中の空気排出口の上に空気だまりを作ることができ、息継ぎができる
                謎を解かせる人々に錯覚させる内容: 移動性(息が続かず通れない長さの水槽を移動することができる)
                }
                trick3: {
                常識と異なる現象: エイの毒針はすぐに捨てない
                現象の原理: ダストシュートの途中に網をかけることで、特定時間のゴミだけ取得できるようにする
                謎を解かせる人々に錯覚させる内容: 能力(取得不可と思われた毒針を入手することができる)
                }
                >> 以上のトリックを用いた「水族館」での「完全犯罪のシナリオ」
                ・「タッチングプール（魚にさわることができる催し物）」のために、水族館スタッフがエイの毒針を抜く。
                ・エイの毒針を捨てる場所は分かっているので、そのダストシュートに投げ込まれるタイミングを見計らって、犯人はダストシュート内に網をかけることで、エイの毒針を入手する。（トリック：網を使う。「能力」を錯覚）
                ・犯人はエイの毒針を、「殺すターゲット」の着るものに仕込む。足止めするために、足に刺さるようにする。
                ・ターゲットがそれを着る時に、足にでも毒針を受ける。そのためターゲットは医務室に入って、処置をしてもらい、安静にする。
                ・犯人は計画的に火事を起こして、館内の人をいなくさせる。ターゲットは医務室で足止めされ、どこにも行けない状況になる。
                ・犯人はビニールシートを使い、息継ぎをしながら水槽内を移動することで、監視カメラにも映らず、ターゲットのいる場所へとたどり着く。（トリック：水槽内移動、ビニールシートトリック。共に「移動性」を錯覚）犯人はターゲットを殺害する。
                ・犯人は復路（帰り道）でビニールシートの空気を捨てて、ビニールシートを水槽から出し、火事に紛れて燃やすことで、証拠隠滅をする。
                ・火事鎮圧後に殺しが発覚しても、犯人は現場まで移動不可能だと錯覚されるため、完全犯罪が成立。
                -
                世界観: 登山
                trick1: {
                常識と異なる現象: 土が雨で強固になり、崩れにくくなる
                現象の原理: 地下にある特殊な鉱石が雨水と反応して固化作用を持つ。この鉱石が含まれる地域では雨が降ると土砂崩れのリスクが減少する。
                他のプレイヤーに錯覚させる内容: 移動性(通るのが不可と思われた道を通り被害者のもとへ行くことができる)
                }
                trick2: {
                常識と異なる現象: ホワイトアウトが発生しても視界が全く低下しない
                現象の原理: 特定の地域に生える植物「シロミツバ」は、雪や霧の中で微弱な生物発光を放つ。この発光は、ホワイトアウト時の雪や霧の粒子に反応して、特定のパターンを形成し、地形や物体を一部浮き彫りにする。この特性を知っている者は、ホワイトアウト時でも特定のゴーグルを使用することで、これらのパターンを読み取り、一定の視界を得ることができる。
                他のプレイヤーに錯覚させる内容: 知識(「シロミツバ」の存在やその特性を知らない者は、ホワイトアウト中に他の人が通常の視界を持って動いているのを不思議に思う。また、この特性を利用して、犯行を行ったり、他の登山者から隠れることができる。)
                }
                >> 以上のトリックを用いた「登山」での「完全犯罪のシナリオ」
                ...続きを出力
                """
                ```
                
            - output1 架空の植物シロミツバを使った犯行(笑) 地面の固化作用をうまく使えてない節がある. 性質の違うトリック(移動性と能力)とか使うといいかも→input2
                
                ```python
                """
                「登山」での「完全犯罪のシナリオ」：
                登山グループは特定の山に登頂する計画を立てている。この山は特定の鉱石が埋まっており、雨が降ると土砂崩れのリスクが減少することは周知の事実ではない。また、山には「シロミツバ」という特殊な植物が自生しているが、その生物発光の特性も一般には知られていない。
                犯人は雨の日を選んでグループと共に登山を開始する。目的地への途中、特定の危険と思われる経路を進むことを提案する。他のメンバーは土砂崩れのリスクを恐れてこの提案に反対するが、犯人は一人でその経路を進むことを宣言する。
                犯人は雨による固化作用のある地域を安全に通過し、グループから一時的に離脱する。他のメンバーは犯人が安全にその経路を通過したことを知らず、その後の犯人の動きも予想できない。
                その日の夜、山中でホワイトアウトが発生する。犯人は「シロミツバ」の発光特性を利用したゴーグルを装着し、この視界の利点を活かして被害者のテントを訪れる。
                犯人は視界が確保できる状態で、被害者を襲撃し、その後「シロミツバ」の光を頼りにその場を離れる。
                翌日、被害者の死が発覚するが、犯行時に誰もホワイトアウトの中を移動できるはずがないと考えられ、犯人に対する疑念が薄れる。犯人はグループの中で、ただの一員として行動を共にし、下山する。
                証拠物件は、ホワイトアウトの中で捨てられるか、山から帰還した後に処分される。
                犯行後、被害者の周りにいた人々の証言と犯人のアリバイに矛盾が生じず、犯人は完全犯罪を成立させる。
                このように、犯人は一度の動きで被害者のテントを訪れ、犯行を実行しました。
                """
                ```
                
            - input2
                
                ```python
                """
                あなたはマーダーミステリー作家です. 
                以下の世界観とトリックの種を使った犯行の一連の流れを考えてください.
                -
                他の世界観での例を以下に示します.
                世界観: 水族館
                trick1: {
                常識と異なる現象: 水族館の水槽の中で人が移動する
                現象の原理: 人は泳ぐごとで移動できる
                謎を解かせる人々に錯覚させる内容: 移動性(通路以外の経路で移動することができる)
                }
                trick2: {
                常識と異なる現象: 水の中でも息ができる
                現象の原理: ビニールシートを水中に持ち込むことで、水槽中の空気排出口の上に空気だまりを作ることができ、息継ぎができる
                謎を解かせる人々に錯覚させる内容: 移動性(息が続かず通れない長さの水槽を移動することができる)
                }
                trick3: {
                常識と異なる現象: エイの毒針はすぐに捨てない
                現象の原理: ダストシュートの途中に網をかけることで、特定時間のゴミだけ取得できるようにする
                謎を解かせる人々に錯覚させる内容: 能力(取得不可と思われた毒針を入手することができる)
                }
                >> 以上のトリックを用いた「水族館」での「完全犯罪のシナリオ」
                ・「タッチングプール（魚にさわることができる催し物）」のために、水族館スタッフがエイの毒針を抜く。
                ・エイの毒針を捨てる場所は分かっているので、そのダストシュートに投げ込まれるタイミングを見計らって、犯人はダストシュート内に網をかけることで、エイの毒針を入手する。（トリック：網を使う。「能力」を錯覚）
                ・犯人はエイの毒針を、「殺すターゲット」の着るものに仕込む。足止めするために、足に刺さるようにする。
                ・ターゲットがそれを着る時に、足にでも毒針を受ける。そのためターゲットは医務室に入って、処置をしてもらい、安静にする。
                ・犯人は計画的に火事を起こして、館内の人をいなくさせる。ターゲットは医務室で足止めされ、どこにも行けない状況になる。
                ・犯人はビニールシートを使い、息継ぎをしながら水槽内を移動することで、監視カメラにも映らず、ターゲットのいる場所へとたどり着く。（トリック：水槽内移動、ビニールシートトリック。共に「移動性」を錯覚）犯人はターゲットを殺害する。
                ・犯人は復路（帰り道）でビニールシートの空気を捨てて、ビニールシートを水槽から出し、火事に紛れて燃やすことで、証拠隠滅をする。
                ・火事鎮圧後に殺しが発覚しても、犯人は現場まで移動不可能だと錯覚されるため、完全犯罪が成立。
                -
                世界観: 登山
                trick1: {
                常識と異なる現象: ホワイトアウトが発生しても視界が全く低下しない
                現象の原理: 特定の地域に生える植物「シロミツバ」は、雪や霧の中で微弱な生物発光を放つ。この発光は、ホワイトアウト時の雪や霧の粒子に反応して、特定のパターンを形成し、地形や物体を一部浮き彫りにする。この特性を知っている者は、ホワイトアウト時でも特定のゴーグルを使用することで、これらのパターンを読み取り、一定の視界を得ることができる。
                他のプレイヤーに錯覚させる内容: 知識(「シロミツバ」の存在やその特性を知らない者は、ホワイトアウト中に他の人が通常の視界を持って動いているのを不思議に思う。また、この特性を利用して、犯行を行ったり、他の登山者から隠れることができる。)
                }
                trick2: {
                常識と異なる現象: 滑落時にブレーキとして機能しないピッケル
                現象の原理: ピッケルの先端部分が折れやすい材質でできており、滑落時に雪や氷に差し込むとすぐに折れてしまう。
                他のプレイヤーに錯覚させる内容: 能力(通常のピッケルとは違い、特定の条件下で機能しないことを利用してアリバイ作りや犯行を実行する)
                }
                >> 以上のトリックを用いた「登山」での「完全犯罪のシナリオ」
                ...続きを出力
                """
                ```
                
            - output2 まだまだ微妙
                
                ```python
                """
                「登山」での「完全犯罪のシナリオ」
                
                犯人とターゲットは同じ登山隊のメンバーである。犯人はターゲットの金品を狙っており、また、ターゲットが持っている秘密の情報を自らのものにしたいと計画している。
                
                犯人はあらかじめターゲットのピッケルを折れやすい材質のものとすり替えておく（トリック：特定の条件下で機能しないピッケル）。
                登山中、適切な地域でホワイトアウトが発生すると予測しておき、その日に登山を計画する。犯人は「シロミツバ」の特性を知っているため、特定のゴーグルを持参。
                ホワイトアウトが発生したとき、犯人は特定のゴーグルを装着して「シロミツバ」の発光によるパターンを利用して視界を確保。他のメンバーは視界が極端に悪化している中、犯人の行動に気づくことができない。
                犯人はこの隙を見計らって、ターゲットを滑落させる位置まで誘導。滑落させたとき、ターゲットは折れやすいピッケルを使ってブレーキをかけようとするが、ピッケルはすぐに折れてしまい、ターゲットは深い崖下に落下。
                犯人は、自身の視界が確保されていることを利用して、速やかにターゲットの落下した場所へ向かい、落下したターゲットから金品や秘密の情報を奪う。
                その後、犯人はホワイトアウトの中を「シロミツバ」の特性を利用して迅速に移動し、登山隊の他のメンバーたちと合流。
                犯人は、自らがターゲットとは別のルートを通っていたとアリバイを作り上げる。ホワイトアウト中で誰も犯人の動きを確認できていないため、疑われることはない。
                登山隊がターゲットの事故を知るのは、ホワイトアウトが収まってから。しかし、その時点で犯人は完璧なアリバイを持っており、完全犯罪が成立。
                このシナリオでは、自然の現象や特定の知識を利用して犯罪を行うことで、他の人々を欺くことができる。犯人の計画と行動力、そしてターゲットの状況や行動を考慮に入れた緻密な計画が、完全犯罪を実現させる鍵となる。
                """
                ```
                
            - input3: 生成に少しヒントを与える
                
                ```python
                """
                ...
                trick2: {
                常識と異なる現象: 滑落時にブレーキとして機能しないピッケル
                現象の原理: ピッケルの先端部分が折れやすい材質でできており、滑落時に雪や氷に差し込むとすぐに折れてしまう。
                他のプレイヤーに錯覚させる内容: 能力(通常のピッケルとは違い、特定の条件下で機能しないことを利用してアリバイ作りや犯行を実行する)
                }
                シナリオ生成のヒント: trick1を用いてtrick2のピッケルを被害者のものととりかえ, 同じくtrick1を用いて崖から落とす
                >> 以上のトリックを用いた「登山」での「完全犯罪のシナリオ」
                ...続きを出力
                """
                ```
                
            - output3
                
                ```python
                """
                「登山」での「完全犯罪のシナリオ」
                ・登山グループが、雪の降る山中でホワイトアウトの恐れがあるルートを目指して登山を開始する。
                ・犯人は、事前に特定のゴーグルを用意しておき、「シロミツバ」の特性を利用してホワイトアウト時でも視界を確保する。このゴーグルを通常のゴーグルと取り替え、他の登山者には何も言わない。（トリック1:「知識」を錯覚）
                ・途中、ホワイトアウトが発生し、視界が悪くなる。このタイミングで、犯人は特性を活かして、被害者のザックの中にあるピッケルと、犯人の持っている折れやすいピッケルをこっそり取り替える。
                ・ルートの途中で、一部の危険な斜面を越える必要がある。その際、被害者は自らのピッケルを使用して安全に通過しようとするが、滑落の危険が生じた際、取り替えられた折れやすいピッケルがすぐに折れてしまい、ブレーキがかからず、被害者は崖から落下してしまう。（トリック2:「能力」を錯覚）
                ・落下した被害者を見て、登山者たちはホワイトアウトの中で慌てて救助を試みるも、状況が悪すぎてすぐには助けることができない。
                ・犯人は他の登山者と共に、被害者の救助を試みるふりをして、犯行の事実を隠す。
                ・救助隊が到着するまでの時間を利用して、犯人は特性を活かして、証拠である折れたピッケルの先端や特製のゴーグルを処分する。
                ・救助隊到着後、被害者の死因は不慮の事故とされ、犯人は疑われることなく山を下りることができ、完全犯罪が成立する。
                """
                ```
                
            

## Prompt Refuctering

- attempt
    1. userが指定した世界観に登場するアイテムと特殊事象を挙げる
        - input(vol0)
            
            ```python
            """
            あなたはマーダーミステリー作家です. これから事件のトリックを考えていきます.
            手始めに"森奥の館"に存在するアイテムと特殊事象について10個ずつ列挙せよ.
            -
            アイテムと特殊事象についての説明は以下の通りです.
            1. アイテム(items)
            ・指定された世界観に存在するアイテム
            2. 特殊事象(phenomenon, trivia)
            ・指定された世界観で現実的に起こる特殊な事象や普通の人は知らないような仕組みや行動を指す.
            ・気持ちなどの曖昧なものではなく具体的な事柄を挙げる.
            -
            他の世界観での例を以下に示します.
            世界観: 水族館
            "水族館"に存在するアイテム
            [\"水槽\",\"水\",\"デンキナマズ\",\"毒蛇\",\"エイ\",\"水温センサー\",\"水温管理コンピューター\",\"監視カメラ\",\"館内放送\",\"非常口表示\"]
            "水族館"で考えられる特殊事象
            [\"海水が蒸発して水槽用の照明には塩分が付着する\",\"水槽用照明の掃除には酢酸を使うと落ちる\",\"エビやカニは脱皮する\",\"水の浄化はプロテインスキマーという泡を発生させる装置で泡を発生させて汚れをすくい取る\",\"エイの毒針は定期的に抜く\"]
            世界観: 雪山
            "雪山"に存在するアイテム
            [\"スキー板\",\"スノーボード板\",\"スノーモービル\",\"圧雪車\",\"人工降雪機\",\"滑走エリアを示す旗やロープ\",\"リフト\",\"リフトを乗り降りする場所の監視カメラ\",\"ワックスを塗るコルク\",\"ワックスを除去するリムーバー\"]
            "雪山"で考えられる特殊事象
            [\"吹雪いたら五メートル先も見えなくなる\",\"雪が多く降っていたら十分もすれば滑った後が消える\",\"大雪になればリフトの途中で飛び降りるのが可能なぐらい雪が積もることがある\",\"川の場所だけは雪が積もらない\",\"木に積もった雪が落ちてくることがある\",\"人工降雪機は稼働まで時間がかかる\"]
            -
            森奥の館に存在するアイテム
            ... 続きを出力
            森奥の館で考えられる特殊事象
            ... 続きを出力
            """
            ```
            
        - output(vol0: テーマによっては特殊現象がファンタジーになる)
            
            ```python
            """
            森奥の館に存在するアイテム:
            
            古い肖像画
            大きな石造りの暖炉
            ふるびたピアノ
            朽ちかけた日記
            燭台にともされたろうそく
            隠し通路の地図
            からくり仕掛けの宝箱
            古書を詰めた書棚
            大時計
            銀製の食器セット
            森奥の館で考えられる特殊事象:
            
            真夜中にピアノが自動的に弾かれる音が聞こえる
            肖像画の目が動いて見ているように見える
            書棚の一冊を引くと秘密の部屋への入口が開く
            大時計の時計の音が一定の時間にだけ異なる
            暖炉の後ろに隠し通路が存在する
            燭台を特定の位置に動かすとからくり仕掛けが動作する
            窓からは常に霧がかかり、外が見えない
            館内のある場所では時間がゆっくり流れる
            館の地下には未知の地下水源が存在する
            満月の夜にだけ館内の影が動く。
            """
            ```
            
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. これから事件のトリックを考えていきます.
            手始めに"高校"に存在するアイテムと特殊事象について10個ずつ列挙せよ.
            -
            アイテムと特殊事象についての説明は以下の通りです.
            1. アイテム(items)
            ・指定された世界観に存在するアイテム
            2. 特殊事象(phenomenon, trivia)
            ・指定された世界観で現実的に起こる特殊な事象や普通の人は知らないような仕組みや行動を指す.
            ・気持ちなどの曖昧なものではなく具体的な事柄を挙げる.
            -
            他の世界観での例を以下に示します.
            世界観: 水族館
            "水族館"に存在するアイテム
            [\"水槽\",\"水\",\"デンキナマズ\",\"毒蛇\",\"エイ\",\"水温センサー\",\"水温管理コンピューター\",\"監視カメラ\",\"館内放送\",\"非常口表示\"]
            "水族館"で考えられる特殊事象
            [\"海水が蒸発して水槽用の照明には塩分が付着する\",\"水槽用照明の掃除には酢酸を使うと落ちる\",\"エビやカニは脱皮する\",\"水の浄化はプロテインスキマーという泡を発生させる装置で泡を発生させて汚れをすくい取る\",\"エイの毒針は定期的に抜く\"]
            世界観: 雪山
            "雪山"に存在するアイテム
            [\"スキー板\",\"スノーボード板\",\"スノーモービル\",\"圧雪車\",\"人工降雪機\",\"滑走エリアを示す旗やロープ\",\"リフト\",\"リフトを乗り降りする場所の監視カメラ\",\"ワックスを塗るコルク\",\"ワックスを除去するリムーバー\"]
            "雪山"で考えられる特殊事象
            [\"吹雪いたら五メートル先も見えなくなる\",\"雪が多く降っていたら十分もすれば滑った後が消える\",\"大雪になればリフトの途中で飛び降りるのが可能なぐらい雪が積もることがある\",\"川の場所だけは雪が積もらない\",\"木に積もった雪が落ちてくることがある\",\"人工降雪機は稼働まで時間がかかる\"]
            -
            "高校"に存在するアイテム
            ... 続きを出力
            "高校"で考えられる特殊事象
            ... 続きを出力
            """
            ```
            
        - output
            
            ```python
            """
            "高校"に存在するアイテム:
            
            教科書
            黒板
            チョーク
            実験器具
            スクールバッグ
            体操服
            生徒手帳
            公告板
            教室の机と椅子
            校内放送用のマイク
            "高校"で考えられる特殊事象:
            
            授業中にサイレンが鳴り、火災演習が始まる
            全校集会の際に、生徒全員が体育館に集まる
            定期的に生徒が掃除当番として教室や廊下の掃除をする
            放課後、部活動の生徒たちが各場所で活動を開始する
            生徒会選挙の期間中、キャンペーンスピーチが行われる
            学校祭の前にはクラスごとに出店や展示の準備を始める
            定期テスト前には、多くの生徒が図書館で勉強をする
            時間割が変更になることがあり、それに伴い授業が急遽変わることがある
            学校の周りにある特定の場所は、放課後の生徒たちの人気の待ち合わせ場所となっている
            体育の授業中、天気が悪い場合は体育館での授業に変更されることがある
            """
            ```
            
        - user selection
            
            ```python
            """
            "高校"に存在するアイテム:
            実験器具
            校内放送用のマイク
            理科室にある薬品
            チャイム
            教室
            
            "高校"で考えられる特殊事象:
            授業中にサイレンが鳴り、火災演習が始まる
            全校集会の際に、生徒全員が体育館に集まる
            定期的に生徒が掃除当番として教室や廊下の掃除をする
            時間割が変更になることがあり、それに伴い授業が急遽変わることがある
            部室や特別教室の鍵は教員室へ借りに行く
            """
            ```
            
    2. アイテム, 特殊事象に対する常識をあげる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. step-by-stepで事件のトリックを考えていきます.
            先ほど"高校"という世界観のもと以下のアイテムと特殊事象を列挙してもらいました.
            -
            続いて, これらの事柄1つ1つに対してその物が持つ"常識"を挙げてもらいます. 1つの事柄につき3個の常識を上げてください. 
            ここで常識とはその世界観でそのアイテムや事象が事実として持っている性質や使われ方のことです.
            事象に対する常識に関しては,"この事象が起こっているならば同時にこの事象が起こっている"や"次にこのような行動をするのが普通"といった情報を挙げても良いです.
            -
            他の世界観での例を示します.
            世界観: 水族館
            {"items": ["水槽", "水"], "trivia": ["エイの毒針は定期的に抜く"]}
            >>
            "水槽"に対する常識: [\"向こう側が透けて見える\", \"掃除をする人か給餌をする人以外は入らない\", \"天井は見ない(水面より向こう側は意識して見ない)\", \"水が満たされた水槽の中は人は移動手段として選ばない\"] 
            "水"に対する常識: [\"高いところから低いところへ移動する\", \"水の中では息ができない\", \"人間にとっては移動しにくい\", \"水の中の音は水より外には聞こえにくい\", \"向こう側が見える\", ] 
            "エイの毒針は定期的に抜く"という現象に対する常識: [\"毒針は毒を持っている\", \"毒に刺されたらすぐに応急処置をする必要がある\", \"毒はすぐに捨てる\"] 
            世界観: 雪山
            {"items": ["スキー板", "リフト"], "trivia": ["吹雪いたら五メートル先も見えなくなる"]}
            >>
            "スキー板"に対する常識: [\"よく滑る\", \"高い場所から低い場所へ移動する一方通行\", \"間違えるとスキー板だけ滑ってゆくことがある\", \"2本セットである\"]
            "リフト"に対する常識: [\"イスもしくはゴンドラを運ぶもの\", \"一定スピードで動く\", \"非常停止できるし乗降客の安全のための一時的に止まることはよくある\", \"イスは等間隔で配置されている\", \"乗り降りする場所は一箇所ずつ\", \"リフトの下に乗っていてボードを持っていない人は係員である\", \"途中で飛び降りることはしない\"]
            "吹雪いたら五メートル先も見えなくなるという現象に対する常識: [\"五メートル以上先の人やものは見えなくなる\", \"場内全てもしくは周辺は全て吹雪に遭っている\", \"音は五メートル以上先でも聞こえる\", \"光は見失いにくい\", \"傾斜とガイドのロープを頼りに進めば場所が分からなくてもロッジに着く\"]
            -
            世界観: 高校
            {"items": ["実験器具","校内放送用のマイク","理科室にある薬品","チャイム","教室"],
            "trivia": ["授業中にサイレンが鳴り、火災演習が始まる","全校集会の際に、生徒全員が体育館に集まる","定期的に生徒が掃除当番として教室や廊下の掃除をする","時間割が変更になることがあり、それに伴い授業が急遽変わることがある","部室や特別教室の鍵は教員室へ借りに行く"]
            >>
            ... 続きを出力
            """
            ```
            
        - output
            
            ```python
            """
            "実験器具"に対する常識:
            "特定の実験のために使用される"
            "取扱いには注意が必要で、特に破損や事故の際は教員に報告する"
            "使用後は元の場所に戻す必要がある"
            
            "校内放送用のマイク"に対する常識:
            "生徒会や教員からのお知らせを全校に伝えるために使用される"
            "使用する際には事前に許可が必要"
            "トラブルがあると放送が中断する可能性がある"
            
            "理科室にある薬品"に対する常識:
            "実験以外の目的で使用することは禁止されている"
            "危険な薬品は専用の収納場所に保管されている"
            "取扱いには十分な知識と技術が必要"
            
            "チャイム"に対する常識:
            "授業や休憩時間の開始・終了を知らせるために鳴る"
            "予定されていない時間に鳴ると、何らかの緊急事態や特別なお知らせがある可能性が考えられる"
            "鳴る時間は固定されており、生徒たちはそれに従って行動する"
            
            "教室"に対する常識:
            "生徒たちは指定された席に座り、授業を受ける"
            "教室のドアや窓は閉め忘れないようにする"
            "教室には掲示板があり、各種情報や連絡事項が掲示される"
            
            "授業中にサイレンが鳴り、火災演習が始まる"という現象に対する常識:
            "サイレンが鳴ったら、生徒と教員は火災演習の手順に従って行動する"
            "通路は混雑するので、混乱を避けるために指示に従う"
            "演習終了後、全員が所定の場所に戻る"
            
            "全校集会の際に、生徒全員が体育館に集まる"という現象に対する常識:
            "指定された場所に整列して座る"
            "全校集会中は静かにして、指示や発表を聞く"
            "終了後、各自の教室や指定された場所に戻る"
            
            "定期的に生徒が掃除当番として教室や廊下の掃除をする"という現象に対する常識:
            "指定された場所や道具を使って掃除を行う"
            "掃除の方法や範囲はあらかじめ決められている"
            "掃除終了後、道具は元の場所に戻す"
            
            "時間割が変更になることがあり、それに伴い授業が急遽変わることがある"という現象に対する常識:
            "時間割変更のお知らせはチャイムや校内放送、掲示板で知らされる"
            "変更になった場合、生徒たちは新しい時間割に従って行動する"
            "教員も変更に応じて授業の準備をする"
            
            "部室や特別教室の鍵は教員室へ借りに行く"という現象に対する常識:
            "鍵の貸し出しや返却は記録される"
            "部室や特別教室は使用後、鍵をかけて閉める"
            "鍵をなくした場合、教員に報告する必要がある"
            """
            ```
            
        - user selection
            
            ```python
            """
            "実験器具"に対する常識:
            "特定の実験のために使用される"
            "取扱いには注意が必要で、特に破損や事故の際は教員に報告する"
            "使用後は元の場所に戻す必要がある"
            
            "校内放送用のマイク"に対する常識:
            "生徒会や教員からのお知らせを全校に伝えるために使用される"
            "使用する際には事前に許可が必要"
            "トラブルがあると放送が中断する可能性がある"
            
            "理科室にある薬品"に対する常識:
            "実験以外の目的で使用することは禁止されている"
            "危険な薬品は専用の収納場所に保管されている"
            "取扱いには十分な知識と技術が必要"
            
            "チャイム"に対する常識:
            "授業や休憩時間の開始・終了を知らせるために鳴る"
            "予定されていない時間に鳴ると、何らかの緊急事態や特別なお知らせがある可能性が考えられる"
            "鳴る時間は固定されており、生徒たちはそれに従って行動する"
            
            "教室"に対する常識:
            "生徒たちは指定された席に座り、授業を受ける"
            "教室のドアや窓は閉め忘れないようにする"
            "教室には掲示板があり、各種情報や連絡事項が掲示される"
            
            "授業中にサイレンが鳴り、火災演習が始まる"という現象に対する常識:
            "サイレンが鳴ったら、生徒と教員は火災演習の手順に従って行動する"
            "通路は混雑するので、混乱を避けるために指示に従う"
            "演習終了後、全員が所定の場所に戻る"
            
            "全校集会の際に、生徒全員が体育館に集まる"という現象に対する常識:
            "指定された場所に整列して座る"
            "全校集会中は静かにして、指示や発表を聞く"
            "終了後、各自の教室や指定された場所に戻る"
            
            "定期的に生徒が掃除当番として教室や廊下の掃除をする"という現象に対する常識:
            "指定された場所や道具を使って掃除を行う"
            "掃除の方法や範囲はあらかじめ決められている"
            "掃除終了後、道具は元の場所に戻す"
            
            "時間割が変更になることがあり、それに伴い授業が急遽変わることがある"という現象に対する常識:
            "時間割変更のお知らせはチャイムや校内放送、掲示板で知らされる"
            "変更になった場合、生徒たちは新しい時間割に従って行動する"
            "教員も変更に応じて授業の準備をする"
            
            "部室や特別教室の鍵は教員室へ借りに行く"という現象に対する常識:
            "鍵の貸し出しや返却は記録される"
            "部室や特別教室は使用後、鍵をかけて閉める"
            "鍵をなくした場合、教員に報告する必要がある"
            """
            ```
            
    3. アイテム, 特殊事象に対する常識の反常識(否定または部分否定)を挙げる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. step-by-stepで事件のトリックを考えていきます.
            先ほど"高校"という世界観のもとアイテムと特殊な事象に対する常識を列挙してもらいました.
            -
            続いて各アイテムまたは特殊な事象につき1つ, 挙げられた常識に対する"反常識"を挙げてもらいます.
            ここで反常識とは単純に常識の部分否定形または否定形をとった物です.
            この次のステップでは反常識をトリックの元として使用していくため,今回のステップで否定をあげる常識を1つ選ぶ際には抽象的な文より具体的な文を優先してください.
            -
            他の世界観での例を示します.
            世界観: 水族館
            {"アイテム":水槽, "常識":["水槽の中では人は移動しない","",""]
            
            >>
            Output1: 
            [{"常識": "水槽の中では人は移動しない", "反常識": "水槽の中で人が移動する"},
            {"常識": "水の中では息ができない", "反常識": "水の中でも息ができる"},
            {"常識": "人間にとっては移動しにくい", "反常識": "人間にとっては移動しやすい"},
            {"常識": "酸素が入っている", "反常識": "酸素が入っていない or 酸素以外のものが入っている"},
            {"常識": "通路を監視するもの", "反常識": "通路を監視しない or 通路以外を監視するもの"},
            Input2: [特殊な事象とその常識が与えられる]
            >>
            Output2: 
            {"常識": "エイの毒針は毒を持っている", "反常識": "エイの毒針は毒を持っていない"},
            {"常識": "毒針に刺されたらすぐに応急処置をする必要がある", "反常識": "毒針に刺されたらすぐに応急処置をしなくても良い or 毒に刺されていなくても応急処置をする"}]
            
            世界観: 雪山
            Input1: [アイテムとその常識が与えられる]
            >>
            Output2: 
            [{"常識": "よく滑る", "反常識": "全く滑らないスキー板"},
            {"常識": "間違えるとスキー板だけ滑ってゆくことがある", "反常識": "故意にスキー板だけを滑らせる or 間違えてもスキー板は勝手に滑らない or 間違ってスキー板だけを滑らせてもその動きを制御できる"},
            {"常識": "2本セットである", "反常識": "3本セットである or 元々1本しか入っていない"},
            {"常識": "イスもしくはゴンドラを運ぶもの", "反常識": "イス以外のものを運ぶもの"},
            {"常識": "乗り降りする場所は一箇所ずつ", "反常識": "他にも乗り降りできる場所がある"},
            Input2: [特殊な事象とその常識が与えられる]
            >>
            Output2: 
            {"常識": "吹雪いたら五メートル以上先の人やものは見えなくなる", "反常識": "吹雪いても五メートル以上先の人やものを判別できる"},
            {"常識": "吹雪いたら場内全てもしくは周辺全て吹雪に遭っている", "反常識": "ゲレンデが吹雪いても吹雪かない特定の場所がある or 場内が吹雪いても吹雪かない場所を作り出せる"},
            {"常識": "吹雪いたら傾斜とガイドのロープを頼りに進めば場所が分からなくてもロッジに着く", "反常識": "吹雪いたら傾斜とガイドのロープを頼りに進んでもロッジに着かない"}]
            -
            世界観: 高校
            Input1: 
            [{"アイテム":"実験器具", "常識": ["特定の実験のために使用される", "取扱いには注意が必要で、特に破損や事故の際は教員に報告する", "使用後は元の場所に戻す必要がある"]},
            {"アイテム":"校内放送用のマイク", "常識": ["生徒会や教員からのお知らせを全校に伝えるために使用される", "使用する際には事前に許可が必要", "トラブルがあると放送が中断する可能性がある"]},
            {"アイテム":"理科室にある薬品", "常識": ["実験以外の目的で使用することは禁止されている", "危険な薬品は専用の収納場所に保管されている", "取扱いには十分な知識と技術が必要"]},
            {"アイテム":"チャイム", "常識": ["授業や休憩時間の開始・終了を知らせるために鳴る", "予定されていない時間に鳴ると、何らかの緊急事態や特別なお知らせがある可能性が考えられる", "鳴る時間は固定されており、生徒たちはそれに従って行動する"]},
            {"アイテム":"教室", "常識": ["生徒たちは指定された席に座り、授業を受ける", "教室のドアや窓は閉め忘れないようにする", "教室には掲示板があり、各種情報や連絡事項が掲示される"]}]
            >>
            Output1:
            ... 続きを出力
            Input2:
            [
            {"特殊な事象":"授業中にサイレンが鳴り、火災演習が始まる", "常識": ["サイレンが鳴ったら、生徒と教員は火災演習の手順に従って行動する", "通路は混雑するので、混乱を避けるために指示に従う", "演習終了後、全員が所定の場所に戻る"]},
            {"特殊な事象":"全校集会の際に、生徒全員が体育館に集まる", "常識": ["指定された場所に整列して座る", "全校集会中は静かにして、指示や発表を聞く", "終了後、各自の教室や指定された場所に戻る"]},
            {"特殊な事象":"定期的に生徒が掃除当番として教室や廊下の掃除をする", "常識": ["指定された場所や道具を使って掃除を行う", "掃除の方法や範囲はあらかじめ決められている", "掃除終了後、道具は元の場所に戻す"]},
            {"特殊な事象":"時間割が変更になることがあり、それに伴い授業が急遽変わることがある", "常識": ["時間割変更のお知らせはチャイムや校内放送、掲示板で知らされる", "変更になった場合、生徒たちは新しい時間割に従って行動する", "教員も変更に応じて授業の準備をする"]},
            {"特殊な事象":"部室や特別教室の鍵は教員室へ借りに行く", "常識": ["鍵の貸し出しや返却は記録される", "部室や特別教室は使用後、鍵をかけて閉める", "鍵をなくした場合、教員に報告する必要がある"]}]
            Output2:
            ... 続きを出力
            """
            ```
            
        - output
            
            ```python
            """
            1. クライミングハーネス
            常識: 体の中心部に装着する
            反常識: 体の中心部以外の場所に装着する
            2. ピッケル
            常識: 滑落時にブレーキとしても使われる
            反常識: 滑落時にブレーキとして機能しないピッケル
            3. クライミングロープ
            常識: 結び目や摩擦で劣化する
            反常識: 結び目や摩擦があっても全く劣化しないロープ
            4. テント
            常識: 防風・防水機能が重要
            反常識: 防風・防水機能が全くないテント
            5. 高所での気圧の変化による耳のポップ
            常識: 突然の高度変化で起こりやすい
            反常識: 高度変化があっても全く耳のポップが起こらない
            6. 標高が高くなるにつれて気温が低下する
            常識: 高度100mごとに約0.6度下がると言われる
            反常識: 高度が上がっても気温が変わらない
            7. 高度が高くなると酸素濃度が低くなる
            常識: 高山病の原因
            反常識: 高度が上がっても酸素濃度が変わらない場所
            8. 岩や土の種類によって登山の難易度が異なる
            常識: 硬い岩は滑りにくいが、破壊されやすい
            反常識: 硬い岩でも滑りやすい
            9. 天候の急変は登山者にとって大きなリスクとなる
            常識: 予報と異なる天気が突如として現れることがある
            反常識: 予報と全く異なる天気が現れることがない
            10. 雨が降ると土砂崩れのリスクが高まる
            常識: 土の固まりが弱まり、崩れやすくなる
            反常識: 土が雨で強固になり、崩れにくくなる
            11. 雪や霧によってホワイトアウトが発生すると周辺が見えなくなる
            常識: 視界が極端に低下する
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            これらの反常識は、物語やトリックの元として使用する際に、さまざまな仕掛けや状況を想像する材料として役立つでしょう。
            """
            
            ```
            
        - user selection
            
            ```python
            """
            1. クライミングハーネス
            常識: 体の中心部に装着する
            反常識: 体の中心部以外の場所に装着する
            2. ピッケル
            常識: 滑落時にブレーキとしても使われる
            反常識: 滑落時にブレーキとして機能しないピッケル
            3. クライミングロープ
            常識: 結び目や摩擦で劣化する
            反常識: 結び目や摩擦があっても全く劣化しないロープ
            4. テント
            常識: 防風・防水機能が重要
            反常識: 防風・防水機能が全くないテント
            5. 高所での気圧の変化による耳のポップ
            常識: 突然の高度変化で起こりやすい
            反常識: 高度変化があっても全く耳のポップが起こらない
            6. 標高が高くなるにつれて気温が低下する
            常識: 高度100mごとに約0.6度下がると言われる
            反常識: 高度が上がっても気温が変わらない
            7. 高度が高くなると酸素濃度が低くなる
            常識: 高山病の原因
            反常識: 高度が上がっても酸素濃度が変わらない場所
            8. 岩や土の種類によって登山の難易度が異なる
            常識: 硬い岩は滑りにくいが、破壊されやすい
            反常識: 硬い岩でも滑りやすい
            9. 天候の急変は登山者にとって大きなリスクとなる
            常識: 予報と異なる天気が突如として現れることがある
            反常識: 予報と全く異なる天気が現れることがない
            10. 雨が降ると土砂崩れのリスクが高まる
            常識: 土の固まりが弱まり、崩れやすくなる
            反常識: 土が雨で強固になり、崩れにくくなる
            11. 雪や霧によってホワイトアウトが発生すると周辺が見えなくなる
            常識: 視界が極端に低下する
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            これらの反常識は、物語やトリックの元として使用する際に、さまざまな仕掛けや状況を想像する材料として役立つでしょう。
            """
            
            ```
            
    4. 反常識を成り立たせる原理,錯覚させる内容をあげる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. step-by-stepで事件のトリックを考えていきます.
            ある事柄に対して通常起こり得ない現象や性質を反常識と言います.
            今次の事柄に対して常識と反常識を挙げました.
            -
            世界観: "登山"
            1. ピッケル
            常識: 滑落時にブレーキとしても使われる
            反常識: 滑落時にブレーキとして機能しないピッケル
            2. 雨が降ると土砂崩れのリスクが高まる
            常識: 土の固まりが弱まり、崩れやすくなる
            反常識: 土が雨で強固になり、崩れにくくなる
            3. 雪や霧によってホワイトアウトが発生すると周辺が見えなくなる
            常識: 視界が極端に低下する
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            -
            反常識をトリックに用いることで簡単には解かれにくいトリックを作ることができます.
            そこで先ほど挙げた反常識が成り立つような環境や仕組みと, 
            反常識が成り立った場合に事件を解くユーザーにどのような錯覚を起こさせることができるのかを記述してください.
            原理については事象を創造しても良いのでなるべく具体的に記述してください.
            反常識に対する仕組みと錯覚内容の例を以下に示します.
            -
            例1) 世界観: "水族館"
            反常識: 水族館の水槽の中で人が移動する
            錯覚させる内容: 移動性(通路ではなく水族館の水槽を泳いで移動することで予想外の経路で移動をすることができる)
            原理(仕組み): 泳ぐことで水槽の中を移動できる
            反常識: 水の中でも息ができる
            錯覚させる内容: 移動性(通常移動できない距離の水の中を息をすることで移動することができる)
            原理(仕組み): ビニールシートを水中持ち込むことで水槽中の空気排出口の上に空気黙りを作ることができ息継ぎできる
            反常識: エイの毒針はすぐに捨てない
            原理(仕組み): 決まったゴミ箱に捨てるため回収が可能 or ダストシュートの途中に網をかけることで特定時間のゴミ(エイの毒針)だけ取得できるようにする
            錯覚させる内容: 能力(エイの毒針を手に入れることができる)
            例2) 世界観: "雪山"
            反常識: 吹雪いても五メートル以上先の人やものを判別できる
            錯覚させる内容: 能力(吹雪で見えないはずのものが見える), 時間(五メートル以内に歩いて近づいて見たという嘘と組み合わせることで近づくまでにかかる時間を錯覚させることができる)
            原理(仕組み): フォグランプを使う or 光を発するアイテムを使うことで吹雪の中でもその光は遠くから見えるようにする or 赤外線もしくは暗視装置で見えるようにする or 音は聞こえるため独自の音を発するようにして判別する
            反常識: 全く滑らないスキー板
            錯覚させる内容: 移動性(歩きやすいため標高が同じもしくは高い場所に常識よりも広範囲に移動できる)
            原理(仕組み): クロスカントリー用のワックスは逆にスキー板を滑りにくくするものであるため、スキー板を滑らなくするためにこのワックスを通常のスキー板に塗る or スキー板を滑らなくするために板の裏側に別途スパイクを装着する
            反常識: 三本セットのスキー板
            錯覚させる内容: 移動性(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板でより遠くに移動ができる), 時間(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板で短時間で移動ができる)
            原理(仕組み): カバーをしておくことで見えなくする or 実は片一方の板が2枚重ねになっている
            """
            
            ```
            
        - output
            
            ```python
            """
            世界観: "登山"
            
            反常識: 滑落時にブレーキとして機能しないピッケル
            錯覚させる内容: 能力(ピッケルの効果を知っている登山者が滑落したと思わせるが、実は滑落しない)
            原理(仕組み): ピッケルの刃部分が折り畳み式であり、使い方を間違えると正しく機能しない。または、特定の素材の氷や雪ではピッケルが滑るような特殊なコーティングがされている。
            
            反常識: 土が雨で強固になり、崩れにくくなる
            錯覚させる内容: 移動性(通るのが不可と思われた道を通ることができる)
            原理(仕組み): 地下にある特殊な鉱石が雨水と反応して固化作用を持つ。この鉱石が含まれる地域では雨が降ると土砂崩れのリスクが減少する。
            
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            錯覚させる内容: 能力(ホワイトアウト中でも目的地や他の登山者の位置を知っている)
            原理(仕組み): 登山者が持っている特殊なゴーグルや眼鏡が、ホワイトアウトの白さを透過させる特定の波長の光を放出しており、これによって視界が確保される。もしくは、音響デバイスを使用して位置を知ることができる。
            
            -
            
            世界観: "登山"
            
            反常識: 滑落時にブレーキとして機能しないピッケル
            原理(仕組み): ピッケルの先端部分が折れやすい材質でできており、滑落時に雪や氷に差し込むとすぐに折れてしまう。
            錯覚させる内容: 能力(通常のピッケルとは違い、特定の条件下で機能しないことを利用してアリバイ作りや犯行を実行する)
            
            反常識: 土が雨で強固になり、崩れにくくなる
            原理(仕組み): 地域特有の土壌があり、雨が降るとその土壌が特定の化学反応を起こし、固まる性質を持つ。
            錯覚させる内容: 環境(登山者や地元の人々が知らないこの特性を利用して、雨が降った後の特定の場所で事件を起こす)
            
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            原理(仕組み): 特定の視界補助装置(例:高度なAR技術を利用したゴーグル)を使用することで、周囲の景色や人々の位置をリアルタイムで映し出す。
            錯覚させる内容: 能力(ホワイトアウト中にも他の人たちとは違う動きをすることができ、それを利用して事件を起こすやアリバイを作る)
            
            -
            
            世界観: "登山"
            
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            原理(仕組み): 特定の地域の雪や霧は特定の周波数の光を放つ生物や鉱物が含まれている。この光の周波数は通常の人の目には見えないが、特定のフィルターを持つゴーグルやレンズを使うことで、周囲の景色を普通に見ることができる。
            錯覚させる内容: 能力・知識(特定のゴーグルやレンズを知っている、あるいは持っている人だけがホワイトアウトの中でも通常の視界を持っていると感じる。これを利用して、犯行を行ったり、他の登山者から隠れることができる。)
            
            -
            
            世界観: "登山"
            
            反常識: ホワイトアウトが発生しても視界が全く低下しない
            原理(仕組み): 特定の地域に生える植物「シロミツバ」は、雪や霧の中で微弱な生物発光を放つ。この発光は、ホワイトアウト時の雪や霧の粒子に反応して、特定のパターンを形成し、地形や物体を一部浮き彫りにする。この特性を知っている者は、ホワイトアウト時でも特定のゴーグルを使用することで、これらのパターンを読み取り、一定の視界を得ることができる。
            錯覚させる内容: 知識(「シロミツバ」の存在やその特性を知らない者は、ホワイトアウト中に他の人が通常の視界を持って動いているのを不思議に思う。また、この特性を利用して、犯行を行ったり、他の登山者から隠れることができる。)
            """
            ```
            
    5. 完全犯罪のシナリオを作る
        - 一つのトリックからシナリオを作るテスト
            - input
                
                ```python
                """
                あなたはマーダーミステリー作家です. 
                以下の世界観とトリックの種を使った犯行の一連の流れを考えてください.
                -
                他の世界観での例を以下に示します.
                世界観: 水族館
                trick1: {
                常識と異なる現象: 水族館の水槽の中で人が移動する
                現象の原理: 人は泳ぐごとで移動できる
                謎を解かせる人々に錯覚させる内容: 移動性(通路以外の経路で移動することができる)
                }
                trick2: {
                常識と異なる現象: 水の中でも息ができる
                現象の原理: ビニールシートを水中に持ち込むことで、水槽中の空気排出口の上に空気だまりを作ることができ、息継ぎができる
                謎を解かせる人々に錯覚させる内容: 移動性(息が続かず通れない長さの水槽を移動することができる)
                }
                trick3: {
                常識と異なる現象: エイの毒針はすぐに捨てない
                現象の原理: ダストシュートの途中に網をかけることで、特定時間のゴミだけ取得できるようにする
                謎を解かせる人々に錯覚させる内容: 能力(取得不可と思われた毒針を入手することができる)
                }
                >> 以上のトリックを用いた「水族館」での「完全犯罪のシナリオ」
                ・「タッチングプール（魚にさわることができる催し物）」のために、水族館スタッフがエイの毒針を抜く。
                ・エイの毒針を捨てる場所は分かっているので、そのダストシュートに投げ込まれるタイミングを見計らって、犯人はダストシュート内に網をかけることで、エイの毒針を入手する。（トリック：網を使う。「能力」を錯覚）
                ・犯人はエイの毒針を、「殺すターゲット」の着るものに仕込む。足止めするために、足に刺さるようにする。
                ・ターゲットがそれを着る時に、足にでも毒針を受ける。そのためターゲットは医務室に入って、処置をしてもらい、安静にする。
                ・犯人は計画的に火事を起こして、館内の人をいなくさせる。ターゲットは医務室で足止めされ、どこにも行けない状況になる。
                ・犯人はビニールシートを使い、息継ぎをしながら水槽内を移動することで、監視カメラにも映らず、ターゲットのいる場所へとたどり着く。（トリック：水槽内移動、ビニールシートトリック。共に「移動性」を錯覚）犯人はターゲットを殺害する。
                ・犯人は復路（帰り道）でビニールシートの空気を捨てて、ビニールシートを水槽から出し、火事に紛れて燃やすことで、証拠隠滅をする。
                ・火事鎮圧後に殺しが発覚しても、犯人は現場まで移動不可能だと錯覚されるため、完全犯罪が成立。
                -
                世界観: 登山
                trick1: {
                常識と異なる現象: 土が雨で強固になり、崩れにくくなる
                現象の原理: 地下にある特殊な鉱石が雨水と反応して固化作用を持つ。この鉱石が含まれる地域では雨が降ると土砂崩れのリスクが減少する。
                謎を解かせる人々に錯覚させる内容: 移動性(通るのが不可と思われた道を通り被害者のもとへ行くことができる)
                }
                >> 以上のトリックを用いた「登山」での「完全犯罪のシナリオ」
                ...続きを出力
                """
                
                ```
                
            - output
                
                ```python
                """
                「登山」での「完全犯罪のシナリオ」
                
                ・犯人とターゲットは登山仲間として、特定の登山ルートを使って山に登る予定を立てる。このルートは、天気が良いと通常は土砂崩れのリスクが高くて通行禁止になる箇所がある。
                ・犯人は、前述の土砂崩れリスクがある箇所にある特殊な鉱石の情報を事前に入手しており、雨が降るとその箇所が固まり通行できることを知っている。（トリック：特殊な鉱石の反応。「移動性」を錯覚）
                ・犯人は天気予報をチェックし、予定日に雨が降ることを確認。その日に山登りを提案する。
                ・山に登る当日、犯人はターゲットと一緒に登山を開始。途中で予定通り雨が降り始める。
                ・雨が降ったことで、土砂崩れリスクのある箇所が固まり、他の登山者はその箇所を避けるが、犯人とターゲットはその道を進む。
                ・犯人は、通常誰も通らないこの道を利用して、ターゲットを何も警戒していない場所で殺害する。
                ・殺害後、犯人は同じ道を下山。雨が止むとその道は再び土砂崩れリスクが高くなり、通常の登山者はその箇所を避けるため、犯人の行動が目撃されることはない。
                ・ターゲットの遺体は、雨で崩れた土に埋まってしまう可能性が高く、発見されることは少ない。
                ・万が一、遺体が見つかった場合でも、犯人はその場所を通ったという証拠はなく、完全犯罪が成立。
                ・このように、特定の知識と環境を利用して犯罪を行うことで、通常では考えられないような方法で犯行を隠蔽することが可能となる。
                
                {
                	"1": ---,
                	"2": ---,
                }
                
                """
                ```
                
        - 二つのトリックからシナリオを作るテスト
            - input1
                
                ```python
                """
                あなたはマーダーミステリー作家です. 
                以下の世界観とトリックの種を使った犯行の一連の流れを考えてください.
                -
                他の世界観での例を以下に示します.
                世界観: 水族館
                trick1: {
                常識と異なる現象: 水族館の水槽の中で人が移動する
                現象の原理: 人は泳ぐごとで移動できる
                謎を解かせる人々に錯覚させる内容: 移動性(通路以外の経路で移動することができる)
                }
                trick2: {
                常識と異なる現象: 水の中でも息ができる
                現象の原理: ビニールシートを水中に持ち込むことで、水槽中の空気排出口の上に空気だまりを作ることができ、息継ぎができる
                謎を解かせる人々に錯覚させる内容: 移動性(息が続かず通れない長さの水槽を移動することができる)
                }
                trick3: {
                常識と異なる現象: エイの毒針はすぐに捨てない
                現象の原理: ダストシュートの途中に網をかけることで、特定時間のゴミだけ取得できるようにする
                謎を解かせる人々に錯覚させる内容: 能力(取得不可と思われた毒針を入手することができる)
                }
                >> 以上のトリックを用いた「水族館」での「完全犯罪のシナリオ」
                ・「タッチングプール（魚にさわることができる催し物）」のために、水族館スタッフがエイの毒針を抜く。
                ・エイの毒針を捨てる場所は分かっているので、そのダストシュートに投げ込まれるタイミングを見計らって、犯人はダストシュート内に網をかけることで、エイの毒針を入手する。（トリック：網を使う。「能力」を錯覚）
                ・犯人はエイの毒針を、「殺すターゲット」の着るものに仕込む。足止めするために、足に刺さるようにする。
                ・ターゲットがそれを着る時に、足にでも毒針を受ける。そのためターゲットは医務室に入って、処置をしてもらい、安静にする。
                ・犯人は計画的に火事を起こして、館内の人をいなくさせる。ターゲットは医務室で足止めされ、どこにも行けない状況になる。
                ・犯人はビニールシートを使い、息継ぎをしながら水槽内を移動することで、監視カメラにも映らず、ターゲットのいる場所へとたどり着く。（トリック：水槽内移動、ビニールシートトリック。共に「移動性」を錯覚）犯人はターゲットを殺害する。
                ・犯人は復路（帰り道）でビニールシートの空気を捨てて、ビニールシートを水槽から出し、火事に紛れて燃やすことで、証拠隠滅をする。
                ・火事鎮圧後に殺しが発覚しても、犯人は現場まで移動不可能だと錯覚されるため、完全犯罪が成立。
                -
                世界観: 登山
                trick1: {
                常識と異なる現象: 土が雨で強固になり、崩れにくくなる
                現象の原理: 地下にある特殊な鉱石が雨水と反応して固化作用を持つ。この鉱石が含まれる地域では雨が降ると土砂崩れのリスクが減少する。
                他のプレイヤーに錯覚させる内容: 移動性(通るのが不可と思われた道を通り被害者のもとへ行くことができる)
                }
                trick2: {
                常識と異なる現象: ホワイトアウトが発生しても視界が全く低下しない
                現象の原理: 特定の地域に生える植物「シロミツバ」は、雪や霧の中で微弱な生物発光を放つ。この発光は、ホワイトアウト時の雪や霧の粒子に反応して、特定のパターンを形成し、地形や物体を一部浮き彫りにする。この特性を知っている者は、ホワイトアウト時でも特定のゴーグルを使用することで、これらのパターンを読み取り、一定の視界を得ることができる。
                他のプレイヤーに錯覚させる内容: 知識(「シロミツバ」の存在やその特性を知らない者は、ホワイトアウト中に他の人が通常の視界を持って動いているのを不思議に思う。また、この特性を利用して、犯行を行ったり、他の登山者から隠れることができる。)
                }
                >> 以上のトリックを用いた「登山」での「完全犯罪のシナリオ」
                ...続きを出力
                """
                ```
                
            - output1 架空の植物シロミツバを使った犯行(笑) 地面の固化作用をうまく使えてない節がある. 性質の違うトリック(移動性と能力)とか使うといいかも→input2
                
                ```python
                """
                「登山」での「完全犯罪のシナリオ」：
                登山グループは特定の山に登頂する計画を立てている。この山は特定の鉱石が埋まっており、雨が降ると土砂崩れのリスクが減少することは周知の事実ではない。また、山には「シロミツバ」という特殊な植物が自生しているが、その生物発光の特性も一般には知られていない。
                犯人は雨の日を選んでグループと共に登山を開始する。目的地への途中、特定の危険と思われる経路を進むことを提案する。他のメンバーは土砂崩れのリスクを恐れてこの提案に反対するが、犯人は一人でその経路を進むことを宣言する。
                犯人は雨による固化作用のある地域を安全に通過し、グループから一時的に離脱する。他のメンバーは犯人が安全にその経路を通過したことを知らず、その後の犯人の動きも予想できない。
                その日の夜、山中でホワイトアウトが発生する。犯人は「シロミツバ」の発光特性を利用したゴーグルを装着し、この視界の利点を活かして被害者のテントを訪れる。
                犯人は視界が確保できる状態で、被害者を襲撃し、その後「シロミツバ」の光を頼りにその場を離れる。
                翌日、被害者の死が発覚するが、犯行時に誰もホワイトアウトの中を移動できるはずがないと考えられ、犯人に対する疑念が薄れる。犯人はグループの中で、ただの一員として行動を共にし、下山する。
                証拠物件は、ホワイトアウトの中で捨てられるか、山から帰還した後に処分される。
                犯行後、被害者の周りにいた人々の証言と犯人のアリバイに矛盾が生じず、犯人は完全犯罪を成立させる。
                このように、犯人は一度の動きで被害者のテントを訪れ、犯行を実行しました。
                """
                ```
                
            - input2
                
                ```python
                """
                あなたはマーダーミステリー作家です. 
                以下の世界観とトリックの種を使った犯行の一連の流れを考えてください.
                -
                他の世界観での例を以下に示します.
                世界観: 水族館
                trick1: {
                常識と異なる現象: 水族館の水槽の中で人が移動する
                現象の原理: 人は泳ぐごとで移動できる
                謎を解かせる人々に錯覚させる内容: 移動性(通路以外の経路で移動することができる)
                }
                trick2: {
                常識と異なる現象: 水の中でも息ができる
                現象の原理: ビニールシートを水中に持ち込むことで、水槽中の空気排出口の上に空気だまりを作ることができ、息継ぎができる
                謎を解かせる人々に錯覚させる内容: 移動性(息が続かず通れない長さの水槽を移動することができる)
                }
                trick3: {
                常識と異なる現象: エイの毒針はすぐに捨てない
                現象の原理: ダストシュートの途中に網をかけることで、特定時間のゴミだけ取得できるようにする
                謎を解かせる人々に錯覚させる内容: 能力(取得不可と思われた毒針を入手することができる)
                }
                >> 以上のトリックを用いた「水族館」での「完全犯罪のシナリオ」
                ・「タッチングプール（魚にさわることができる催し物）」のために、水族館スタッフがエイの毒針を抜く。
                ・エイの毒針を捨てる場所は分かっているので、そのダストシュートに投げ込まれるタイミングを見計らって、犯人はダストシュート内に網をかけることで、エイの毒針を入手する。（トリック：網を使う。「能力」を錯覚）
                ・犯人はエイの毒針を、「殺すターゲット」の着るものに仕込む。足止めするために、足に刺さるようにする。
                ・ターゲットがそれを着る時に、足にでも毒針を受ける。そのためターゲットは医務室に入って、処置をしてもらい、安静にする。
                ・犯人は計画的に火事を起こして、館内の人をいなくさせる。ターゲットは医務室で足止めされ、どこにも行けない状況になる。
                ・犯人はビニールシートを使い、息継ぎをしながら水槽内を移動することで、監視カメラにも映らず、ターゲットのいる場所へとたどり着く。（トリック：水槽内移動、ビニールシートトリック。共に「移動性」を錯覚）犯人はターゲットを殺害する。
                ・犯人は復路（帰り道）でビニールシートの空気を捨てて、ビニールシートを水槽から出し、火事に紛れて燃やすことで、証拠隠滅をする。
                ・火事鎮圧後に殺しが発覚しても、犯人は現場まで移動不可能だと錯覚されるため、完全犯罪が成立。
                -
                世界観: 登山
                trick1: {
                常識と異なる現象: ホワイトアウトが発生しても視界が全く低下しない
                現象の原理: 特定の地域に生える植物「シロミツバ」は、雪や霧の中で微弱な生物発光を放つ。この発光は、ホワイトアウト時の雪や霧の粒子に反応して、特定のパターンを形成し、地形や物体を一部浮き彫りにする。この特性を知っている者は、ホワイトアウト時でも特定のゴーグルを使用することで、これらのパターンを読み取り、一定の視界を得ることができる。
                他のプレイヤーに錯覚させる内容: 知識(「シロミツバ」の存在やその特性を知らない者は、ホワイトアウト中に他の人が通常の視界を持って動いているのを不思議に思う。また、この特性を利用して、犯行を行ったり、他の登山者から隠れることができる。)
                }
                trick2: {
                常識と異なる現象: 滑落時にブレーキとして機能しないピッケル
                現象の原理: ピッケルの先端部分が折れやすい材質でできており、滑落時に雪や氷に差し込むとすぐに折れてしまう。
                他のプレイヤーに錯覚させる内容: 能力(通常のピッケルとは違い、特定の条件下で機能しないことを利用してアリバイ作りや犯行を実行する)
                }
                >> 以上のトリックを用いた「登山」での「完全犯罪のシナリオ」
                ...続きを出力
                """
                ```
                
            - output2 まだまだ微妙
                
                ```python
                """
                「登山」での「完全犯罪のシナリオ」
                
                犯人とターゲットは同じ登山隊のメンバーである。犯人はターゲットの金品を狙っており、また、ターゲットが持っている秘密の情報を自らのものにしたいと計画している。
                
                犯人はあらかじめターゲットのピッケルを折れやすい材質のものとすり替えておく（トリック：特定の条件下で機能しないピッケル）。
                登山中、適切な地域でホワイトアウトが発生すると予測しておき、その日に登山を計画する。犯人は「シロミツバ」の特性を知っているため、特定のゴーグルを持参。
                ホワイトアウトが発生したとき、犯人は特定のゴーグルを装着して「シロミツバ」の発光によるパターンを利用して視界を確保。他のメンバーは視界が極端に悪化している中、犯人の行動に気づくことができない。
                犯人はこの隙を見計らって、ターゲットを滑落させる位置まで誘導。滑落させたとき、ターゲットは折れやすいピッケルを使ってブレーキをかけようとするが、ピッケルはすぐに折れてしまい、ターゲットは深い崖下に落下。
                犯人は、自身の視界が確保されていることを利用して、速やかにターゲットの落下した場所へ向かい、落下したターゲットから金品や秘密の情報を奪う。
                その後、犯人はホワイトアウトの中を「シロミツバ」の特性を利用して迅速に移動し、登山隊の他のメンバーたちと合流。
                犯人は、自らがターゲットとは別のルートを通っていたとアリバイを作り上げる。ホワイトアウト中で誰も犯人の動きを確認できていないため、疑われることはない。
                登山隊がターゲットの事故を知るのは、ホワイトアウトが収まってから。しかし、その時点で犯人は完璧なアリバイを持っており、完全犯罪が成立。
                このシナリオでは、自然の現象や特定の知識を利用して犯罪を行うことで、他の人々を欺くことができる。犯人の計画と行動力、そしてターゲットの状況や行動を考慮に入れた緻密な計画が、完全犯罪を実現させる鍵となる。
                """
                ```
                
            - input3: 生成に少しヒントを与える
                
                ```python
                """
                ...
                trick2: {
                常識と異なる現象: 滑落時にブレーキとして機能しないピッケル
                現象の原理: ピッケルの先端部分が折れやすい材質でできており、滑落時に雪や氷に差し込むとすぐに折れてしまう。
                他のプレイヤーに錯覚させる内容: 能力(通常のピッケルとは違い、特定の条件下で機能しないことを利用してアリバイ作りや犯行を実行する)
                }
                シナリオ生成のヒント: trick1を用いてtrick2のピッケルを被害者のものととりかえ, 同じくtrick1を用いて崖から落とす
                >> 以上のトリックを用いた「登山」での「完全犯罪のシナリオ」
                ...続きを出力
                """
                ```
                
            - output3
                
                ```python
                """
                「登山」での「完全犯罪のシナリオ」
                ・登山グループが、雪の降る山中でホワイトアウトの恐れがあるルートを目指して登山を開始する。
                ・犯人は、事前に特定のゴーグルを用意しておき、「シロミツバ」の特性を利用してホワイトアウト時でも視界を確保する。このゴーグルを通常のゴーグルと取り替え、他の登山者には何も言わない。（トリック1:「知識」を錯覚）
                ・途中、ホワイトアウトが発生し、視界が悪くなる。このタイミングで、犯人は特性を活かして、被害者のザックの中にあるピッケルと、犯人の持っている折れやすいピッケルをこっそり取り替える。
                ・ルートの途中で、一部の危険な斜面を越える必要がある。その際、被害者は自らのピッケルを使用して安全に通過しようとするが、滑落の危険が生じた際、取り替えられた折れやすいピッケルがすぐに折れてしまい、ブレーキがかからず、被害者は崖から落下してしまう。（トリック2:「能力」を錯覚）
                ・落下した被害者を見て、登山者たちはホワイトアウトの中で慌てて救助を試みるも、状況が悪すぎてすぐには助けることができない。
                ・犯人は他の登山者と共に、被害者の救助を試みるふりをして、犯行の事実を隠す。
                ・救助隊が到着するまでの時間を利用して、犯人は特性を活かして、証拠である折れたピッケルの先端や特製のゴーグルを処分する。
                ・救助隊到着後、被害者の死因は不慮の事故とされ、犯人は疑われることなく山を下りることができ、完全犯罪が成立する。
                """
                ```
                
            

## Prompt Evolution

Concept & Point: 

- LLMが得意なのは文章の続きを出力するタスクという基本理念.
- 常識では抽象的な物ではなくなるべく具体的なものが良い
- 反常識は本当に単純に常識の否定形で良い

- attempt
    1. userが指定した世界観に登場するアイテムと特殊事象を挙げる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. これから事件のトリックを考えていきます.
            手始めに"高校"に存在するアイテムと特殊事象について10個ずつ列挙せよ.
            -
            アイテムと特殊事象についての説明は以下の通りです.
            1. アイテム(items)
            ・指定された世界観に存在するアイテム
            2. 特殊事象(phenomenon, trivia)
            ・指定された世界観で現実的に起こる特殊な事象や普通の人は知らないような仕組みや行動を指す.
            ・気持ちなどの曖昧なものではなく具体的な事柄を挙げる.
            -
            他の世界観での例を以下に示します.
            世界観: 水族館
            "水族館"に存在するアイテム
            [\"水槽\",\"水\",\"デンキナマズ\",\"毒蛇\",\"エイ\",\"水温センサー\",\"水温管理コンピューター\",\"監視カメラ\",\"館内放送\",\"非常口表示\"]
            "水族館"で考えられる特殊事象
            [\"海水が蒸発して水槽用の照明には塩分が付着する\",\"水槽用照明の掃除には酢酸を使うと落ちる\",\"エビやカニは脱皮する\",\"水の浄化はプロテインスキマーという泡を発生させる装置で泡を発生させて汚れをすくい取る\",\"エイの毒針は定期的に抜く\"]
            世界観: 雪山
            "雪山"に存在するアイテム
            [\"スキー板\",\"スノーボード板\",\"スノーモービル\",\"圧雪車\",\"人工降雪機\",\"滑走エリアを示す旗やロープ\",\"リフト\",\"リフトを乗り降りする場所の監視カメラ\",\"ワックスを塗るコルク\",\"ワックスを除去するリムーバー\"]
            "雪山"で考えられる特殊事象
            [\"吹雪いたら五メートル先も見えなくなる\",\"雪が多く降っていたら十分もすれば滑った後が消える\",\"大雪になればリフトの途中で飛び降りるのが可能なぐらい雪が積もることがある\",\"川の場所だけは雪が積もらない\",\"木に積もった雪が落ちてくることがある\",\"人工降雪機は稼働まで時間がかかる\"]
            -
            "高校"に存在するアイテム
            ... 続きを出力
            "高校"で考えられる特殊事象
            ... 続きを出力
            """
            ```
            
        - output
            
            ```python
            """
            "高校"に存在するアイテム:
            
            教科書
            黒板
            チョーク
            実験器具
            スクールバッグ
            体操服
            生徒手帳
            公告板
            教室の机と椅子
            校内放送用のマイク
            "高校"で考えられる特殊事象:
            
            授業中にサイレンが鳴り、火災演習が始まる
            全校集会の際に、生徒全員が体育館に集まる
            定期的に生徒が掃除当番として教室や廊下の掃除をする
            放課後、部活動の生徒たちが各場所で活動を開始する
            生徒会選挙の期間中、キャンペーンスピーチが行われる
            学校祭の前にはクラスごとに出店や展示の準備を始める
            定期テスト前には、多くの生徒が図書館で勉強をする
            時間割が変更になることがあり、それに伴い授業が急遽変わることがある
            学校の周りにある特定の場所は、放課後の生徒たちの人気の待ち合わせ場所となっている
            体育の授業中、天気が悪い場合は体育館での授業に変更されることがある
            """
            ```
            
        - user selection
            
            ```python
            """
            "高校"に存在するアイテム:
            実験器具
            校内放送用のマイク
            理科室にある薬品
            チャイム
            教室
            
            "高校"で考えられる特殊事象:
            授業中にサイレンが鳴り、火災演習が始まる
            全校集会の際に、生徒全員が体育館に集まる
            定期的に生徒が掃除当番として教室や廊下の掃除をする
            時間割が変更になることがあり、それに伴い授業が急遽変わることがある
            部室や特別教室の鍵は教員室へ借りに行く
            """
            ```
            
    2. アイテム, 特殊事象に対する常識をあげる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家です. step-by-stepで事件のトリックを考えていきます.
            先ほど"高校"という世界観のもと以下のアイテムと特殊事象を列挙してもらいました.
            -
            続いて, これらの事柄1つ1つに対してその物が持つ"常識"を挙げてもらいます. 1つの事柄につき3個の常識を上げてください. 
            ここで常識とはその世界観でそのアイテムや事象が事実として持っている性質や使われ方のことです.
            事象に対する常識に関しては,"この事象が起こっているならば同時にこの事象が起こっている"や"次にこのような行動をするのが普通"といった情報を挙げても良いです.
            -
            他の世界観での例を示します.
            世界観: 水族館
            {"items": ["水槽", "水"], "trivia": ["エイの毒針は定期的に抜く"]}
            >>
            "水槽"に対する常識: [\"向こう側が透けて見える\", \"掃除をする人か給餌をする人以外は入らない\", \"天井は見ない(水面より向こう側は意識して見ない)\", \"水が満たされた水槽の中は人は移動手段として選ばない\"] 
            "水"に対する常識: [\"高いところから低いところへ移動する\", \"水の中では息ができない\", \"人間にとっては移動しにくい\", \"水の中の音は水より外には聞こえにくい\", \"向こう側が見える\", ] 
            "エイの毒針は定期的に抜く"という現象に対する常識: [\"毒針は毒を持っている\", \"毒に刺されたらすぐに応急処置をする必要がある\", \"毒はすぐに捨てる\"] 
            世界観: 雪山
            {"items": ["スキー板", "リフト"], "trivia": ["吹雪いたら五メートル先も見えなくなる"]}
            >>
            "スキー板"に対する常識: [\"よく滑る\", \"高い場所から低い場所へ移動する一方通行\", \"間違えるとスキー板だけ滑ってゆくことがある\", \"2本セットである\"]
            "リフト"に対する常識: [\"イスもしくはゴンドラを運ぶもの\", \"一定スピードで動く\", \"非常停止できるし乗降客の安全のための一時的に止まることはよくある\", \"イスは等間隔で配置されている\", \"乗り降りする場所は一箇所ずつ\", \"リフトの下に乗っていてボードを持っていない人は係員である\", \"途中で飛び降りることはしない\"]
            "吹雪いたら五メートル先も見えなくなるという現象に対する常識: [\"五メートル以上先の人やものは見えなくなる\", \"場内全てもしくは周辺は全て吹雪に遭っている\", \"音は五メートル以上先でも聞こえる\", \"光は見失いにくい\", \"傾斜とガイドのロープを頼りに進めば場所が分からなくてもロッジに着く\"]
            -
            世界観: 高校
            {"items": ["実験器具","校内放送用のマイク","理科室にある薬品","チャイム","教室"],
            "trivia": ["授業中にサイレンが鳴り、火災演習が始まる","全校集会の際に、生徒全員が体育館に集まる","定期的に生徒が掃除当番として教室や廊下の掃除をする","時間割が変更になることがあり、それに伴い授業が急遽変わることがある","部室や特別教室の鍵は教員室へ借りに行く"]
            >>
            ... 続きを出力
            """
            ```
            
        - output
            
            ```python
            """
            "実験器具"に対する常識:
            "特定の実験のために使用される"
            "取扱いには注意が必要で、特に破損や事故の際は教員に報告する"
            "使用後は元の場所に戻す必要がある"
            
            "校内放送用のマイク"に対する常識:
            "生徒会や教員からのお知らせを全校に伝えるために使用される"
            "使用する際には事前に許可が必要"
            "トラブルがあると放送が中断する可能性がある"
            
            "理科室にある薬品"に対する常識:
            "実験以外の目的で使用することは禁止されている"
            "危険な薬品は専用の収納場所に保管されている"
            "取扱いには十分な知識と技術が必要"
            
            "チャイム"に対する常識:
            "授業や休憩時間の開始・終了を知らせるために鳴る"
            "予定されていない時間に鳴ると、何らかの緊急事態や特別なお知らせがある可能性が考えられる"
            "鳴る時間は固定されており、生徒たちはそれに従って行動する"
            
            "教室"に対する常識:
            "生徒たちは指定された席に座り、授業を受ける"
            "教室のドアや窓は閉め忘れないようにする"
            "教室には掲示板があり、各種情報や連絡事項が掲示される"
            
            "授業中にサイレンが鳴り、火災演習が始まる"という現象に対する常識:
            "サイレンが鳴ったら、生徒と教員は火災演習の手順に従って行動する"
            "通路は混雑するので、混乱を避けるために指示に従う"
            "演習終了後、全員が所定の場所に戻る"
            
            "全校集会の際に、生徒全員が体育館に集まる"という現象に対する常識:
            "指定された場所に整列して座る"
            "全校集会中は静かにして、指示や発表を聞く"
            "終了後、各自の教室や指定された場所に戻る"
            
            "定期的に生徒が掃除当番として教室や廊下の掃除をする"という現象に対する常識:
            "指定された場所や道具を使って掃除を行う"
            "掃除の方法や範囲はあらかじめ決められている"
            "掃除終了後、道具は元の場所に戻す"
            
            "時間割が変更になることがあり、それに伴い授業が急遽変わることがある"という現象に対する常識:
            "時間割変更のお知らせはチャイムや校内放送、掲示板で知らされる"
            "変更になった場合、生徒たちは新しい時間割に従って行動する"
            "教員も変更に応じて授業の準備をする"
            
            "部室や特別教室の鍵は教員室へ借りに行く"という現象に対する常識:
            "鍵の貸し出しや返却は記録される"
            "部室や特別教室は使用後、鍵をかけて閉める"
            "鍵をなくした場合、教員に報告する必要がある"
            """
            ```
            
    3. アイテム, 特殊事象に対する常識の反常識(否定または部分否定)を挙げる
        - input
            
            ```python
            """
            Outputでは指定された常識の単純な否定形を反常識として挙げていく.
            世界観: 水族館
            Output:
            {"常識": "水槽の中では人は移動しない", "反常識": "水槽の中で人が移動する"},
            {"常識": "水の中では息ができない", "反常識": "水の中でも息ができる"},
            {"常識": "人間にとっては移動しにくい", "反常識": "人間にとっては移動しやすい"},
            {"常識": "酸素が入っている", "反常識": "酸素が入っていない or 酸素以外のものが入っている"},
            {"常識": "通路を監視するもの", "反常識": "通路を監視しない or 通路以外を監視するもの"},
            {"常識": "エイの毒針は毒を持っている", "反常識": "エイの毒針は毒を持っていない"},
            {"常識": "毒針に刺されたらすぐに応急処置をする必要がある", "反常識": "毒針に刺されたらすぐに応急処置をしなくても良い or 毒に刺されていなくても応急処置をする"}]
            -
            世界観: 雪山
            Output:
            {"常識": "よく滑る", "反常識": "全く滑らないスキー板"},
            {"常識": "間違えるとスキー板だけ滑ってゆくことがある", "反常識": "故意にスキー板だけを滑らせる or 間違えてもスキー板は勝手に滑らない or 間違ってスキー板だけを滑らせてもその動きを制御できる"},
            {"常識": "2本セットである", "反常識": "3本セットである or 元々1本しか入っていない"},
            {"常識": "イスもしくはゴンドラを運ぶもの", "反常識": "イス以外のものを運ぶもの"},
            {"常識": "乗り降りする場所は一箇所ずつ", "反常識": "他にも乗り降りできる場所がある"},
            {"常識": "吹雪いたら五メートル以上先の人やものは見えなくなる", "反常識": "吹雪いても五メートル以上先の人やものを判別できる"},
            {"常識": "吹雪いたら場内全てもしくは周辺全て吹雪に遭っている", "反常識": "ゲレンデが吹雪いても吹雪かない特定の場所がある or 場内が吹雪いても吹雪かない場所を作り出せる"},
            {"常識": "吹雪いたら傾斜とガイドのロープを頼りに進めば場所が分からなくてもロッジに着く", "反常識": "吹雪いたら傾斜とガイドのロープを頼りに進んでもロッジに着かない"}]
            -
            世界観: 高校
            Input: 
            [{"アイテム":"実験器具", "常識": ["特定の実験のために使用される", "取扱いには注意が必要で、特に破損や事故の際は教員に報告する", "使用後は元の場所に戻す必要がある"]},
            {"アイテム":"校内放送用のマイク", "常識": ["生徒会や教員からのお知らせを全校に伝えるために使用される", "使用する際には事前に許可が必要", "トラブルがあると放送が中断する可能性がある"]},
            {"アイテム":"理科室にある薬品", "常識": ["実験以外の目的で使用することは禁止されている", "危険な薬品は専用の収納場所に保管されている", "取扱いには十分な知識と技術が必要"]},
            {"アイテム":"チャイム", "常識": ["授業や休憩時間の開始・終了を知らせるために鳴る", "予定されていない時間に鳴ると、何らかの緊急事態や特別なお知らせがある可能性が考えられる", "鳴る時間は固定されており、生徒たちはそれに従って行動する"]},
            {"アイテム":"教室", "常識": ["生徒たちは指定された席に座り、授業を受ける", "教室のドアや窓は閉め忘れないようにする", "教室には掲示板があり、各種情報や連絡事項が掲示される"]}]
            {"特殊な事象":"授業中にサイレンが鳴り、火災演習が始まる", "常識": ["サイレンが鳴ったら、生徒と教員は火災演習の手順に従って行動する", "通路は混雑するので、混乱を避けるために指示に従う", "演習終了後、全員が所定の場所に戻る"]},
            {"特殊な事象":"全校集会の際に、生徒全員が体育館に集まる", "常識": ["指定された場所に整列して座る", "全校集会中は静かにして、指示や発表を聞く", "終了後、各自の教室や指定された場所に戻る"]},
            {"特殊な事象":"定期的に生徒が掃除当番として教室や廊下の掃除をする", "常識": ["指定された場所や道具を使って掃除を行う", "掃除の方法や範囲はあらかじめ決められている", "掃除終了後、道具は元の場所に戻す"]},
            {"特殊な事象":"時間割が変更になることがあり、それに伴い授業が急遽変わることがある", "常識": ["時間割変更のお知らせはチャイムや校内放送、掲示板で知らされる", "変更になった場合、生徒たちは新しい時間割に従って行動する", "教員も変更に応じて授業の準備をする"]},
            {"特殊な事象":"部室や特別教室の鍵は教員室へ借りに行く", "常識": ["鍵の貸し出しや返却は記録される", "部室や特別教室は使用後、鍵をかけて閉める", "鍵をなくした場合、教員に報告する必要がある"]}]
            Output:
            ... 各アイテムや事象につき1つ{"常識","反常識"}を出力
            
             >> １度目の出力が微妙だったため"だからそれが単純な否定形なの？？" とキレた, そしたら普通によかった !!!! ただの否定形でいいからそんな多く例いらないかも
            """
            ```
            
        - output
            
            ```python
            """
            {"アイテム": "実験器具", "常識": "特定の実験のために使用される", "反常識": "特定の実験のために使用されない"},
            {"アイテム": "校内放送用のマイク", "常識": "生徒会や教員からのお知らせを全校に伝えるために使用される", "反常識": "生徒会や教員からのお知らせを全校に伝えるために使用されない"},
            {"アイテム": "理科室にある薬品", "常識": "実験以外の目的で使用することは禁止されている", "反常識": "実験以外の目的で使用することは禁止されていない"},
            {"アイテム": "チャイム", "常識": "授業や休憩時間の開始・終了を知らせるために鳴る", "反常識": "授業や休憩時間の開始・終了を知らせるために鳴らない"},
            {"アイテム": "教室", "常識": "生徒たちは指定された席に座り、授業を受ける", "反常識": "生徒たちは指定された席に座らず、授業を受けない"},
            {"特殊な事象": "授業中にサイレンが鳴り、火災演習が始まる", "常識": "サイレンが鳴ったら、生徒と教員は火災演習の手順に従って行動する", "反常識": "サイレンが鳴ったら、生徒と教員は火災演習の手順に従わず行動しない"},
            {"特殊な事象": "全校集会の際に、生徒全員が体育館に集まる", "常識": "指定された場所に整列して座る", "反常識": "指定された場所に整列して座らない"},
            {"特殊な事象": "定期的に生徒が掃除当番として教室や廊下の掃除をする", "常識": "指定された場所や道具を使って掃除を行う", "反常識": "指定された場所や道具を使わず掃除を行わない"},
            {"特殊な事象": "時間割が変更になることがあり、それに伴い授業が急遽変わることがある", "常識": "時間割変更のお知らせはチャイムや校内放送、掲示板で知らされる", "反常識": "時間割変更のお知らせはチャイムや校内放送、掲示板で知らされない"},
            {"特殊な事象": "部室や特別教室の鍵は教員室へ借りに行く", "常識": "鍵の貸し出しや返却は記録される", "反常識": "鍵の貸し出しや返却は記録されない"}]
            """
            
            ```
            
    4. 反常識を成り立たせる原理,錯覚させる内容をあげる
        - input
            
            ```python
            """
            あなたはマーダーミステリー作家で,事件に用いるトリックをstep-by-stepで考えている最中です.
            特定のアイテムや事象について普通とは反対の状態を"反常識"と言います.
            反常識をトリックに用いることで簡単には解かれにくいトリックを作ることができます.
            そこで次に挙げる反常識が成り立つような環境や仕組みと, 
            反常識が成り立った場合に事件を解くユーザーにどのような錯覚を起こさせることができるのかを記述してください.
            原理については事象を創造しても良いのでなるべく具体的に記述してください.
            反常識に対する仕組みと錯覚内容の例を以下に示します.
            -
            例1) 世界観: "水族館"
            {反常識: 水族館の水槽の中で人が移動する
            錯覚させる内容: 移動性(通路ではなく水族館の水槽を泳いで移動することで予想外の経路で移動をすることができる)
            原理(仕組み): 泳ぐことで水槽の中を移動できる
            }
            {反常識: 水の中でも息ができる
            錯覚させる内容: 移動性(通常移動できない距離の水の中を息をすることで移動することができる)
            原理(仕組み): ビニールシートを水中持ち込むことで水槽中の空気排出口の上に空気黙りを作ることができ息継ぎできる
            }
            {反常識: エイの毒針はすぐに捨てない
            原理(仕組み): 決まったゴミ箱に捨てるため回収が可能 or ダストシュートの途中に網をかけることで特定時間のゴミ(エイの毒針)だけ取得できるようにする
            錯覚させる内容: 能力(エイの毒針を手に入れることができる)
            }
            例2) 世界観: "雪山"
            {反常識: 吹雪いても五メートル以上先の人やものを判別できる
            錯覚させる内容: 能力(吹雪で見えないはずのものが見える), 時間(五メートル以内に歩いて近づいて見たという嘘と組み合わせることで近づくまでにかかる時間を錯覚させることができる)
            原理(仕組み): フォグランプを使う or 光を発するアイテムを使うことで吹雪の中でもその光は遠くから見えるようにする or 赤外線もしくは暗視装置で見えるようにする or 音は聞こえるため独自の音を発するようにして判別する
            }
            {反常識: 全く滑らないスキー板
            錯覚させる内容: 移動性(歩きやすいため標高が同じもしくは高い場所に常識よりも広範囲に移動できる)
            原理(仕組み): クロスカントリー用のワックスは逆にスキー板を滑りにくくするものであるため、スキー板を滑らなくするためにこのワックスを通常のスキー板に塗る or スキー板を滑らなくするために板の裏側に別途スパイクを装着する
            }
            {反常識: 三本セットのスキー板
            錯覚させる内容: 移動性(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板でより遠くに移動ができる), 時間(例えば一本を滑落させるというイベントと組み合わせた場合に2本のスキー板で短時間で移動ができる)
            原理(仕組み): カバーをしておくことで見えなくする or 実は片一方の板が2枚重ねになっている
            }
            世界観: "高校"
            Input: 
            {"アイテム": "実験器具", "常識": "特定の実験のために使用される", "反常識": "特定の実験のために使用されない"},
            {"アイテム": "校内放送用のマイク", "常識": "生徒会や教員からのお知らせを全校に伝えるために使用される", "反常識": "生徒会や教員からのお知らせを全校に伝えるために使用されない"},
            {"アイテム": "理科室にある薬品", "常識": "実験以外の目的で使用することは禁止されている", "反常識": "実験以外の目的で使用することは禁止されていない"},
            {"アイテム": "チャイム", "常識": "授業や休憩時間の開始・終了を知らせるために鳴る", "反常識": "授業や休憩時間の開始・終了を知らせるために鳴らない"},
            {"アイテム": "教室", "常識": "生徒たちは指定された席に座り、授業を受ける", "反常識": "生徒たちは指定された席に座らず、授業を受けない"},
            {"特殊な事象": "授業中にサイレンが鳴り、火災演習が始まる", "常識": "サイレンが鳴ったら、生徒と教員は火災演習の手順に従って行動する", "反常識": "サイレンが鳴ったら、生徒と教員は火災演習の手順に従わず行動しない"},
            {"特殊な事象": "全校集会の際に、生徒全員が体育館に集まる", "常識": "指定された場所に整列して座る", "反常識": "指定された場所に整列して座らない"},
            {"特殊な事象": "定期的に生徒が掃除当番として教室や廊下の掃除をする", "常識": "指定された場所や道具を使って掃除を行う", "反常識": "指定された場所や道具を使わず掃除を行わない"},
            {"特殊な事象": "時間割が変更になることがあり、それに伴い授業が急遽変わることがある", "常識": "時間割変更のお知らせはチャイムや校内放送、掲示板で知らされる", "反常識": "時間割変更のお知らせはチャイムや校内放送、掲示板で知らされない"},
            {"特殊な事象": "部室や特別教室の鍵は教員室へ借りに行く", "常識": "鍵の貸し出しや返却は記録される", "反常識": "鍵の貸し出しや返却は記録されない"}]
            Output:
            ... この続きに各アイテムと事象の反常識について錯覚させる内容と反常識が成り立つ原理を書く.
            """
            ```
            
        - output
            
            ```python
            """
            
            """
            ```
            
    5. 完全犯罪のシナリオを作る
        - 一つのトリックからシナリオを作るテスト
            - input
                
                ```python
                """
                あなたはマーダーミステリー作家です. 
                以下の世界観とトリックの種を使った犯行の一連の流れを考えてください.
                -
                他の世界観での例を以下に示します.
                世界観: 水族館
                trick1: {
                常識と異なる現象: 水族館の水槽の中で人が移動する
                現象の原理: 人は泳ぐごとで移動できる
                謎を解かせる人々に錯覚させる内容: 移動性(通路以外の経路で移動することができる)
                }
                trick2: {
                常識と異なる現象: 水の中でも息ができる
                現象の原理: ビニールシートを水中に持ち込むことで、水槽中の空気排出口の上に空気だまりを作ることができ、息継ぎができる
                謎を解かせる人々に錯覚させる内容: 移動性(息が続かず通れない長さの水槽を移動することができる)
                }
                trick3: {
                常識と異なる現象: エイの毒針はすぐに捨てない
                現象の原理: ダストシュートの途中に網をかけることで、特定時間のゴミだけ取得できるようにする
                謎を解かせる人々に錯覚させる内容: 能力(取得不可と思われた毒針を入手することができる)
                }
                >> 以上のトリックを用いた「水族館」での「完全犯罪のシナリオ」
                ・「タッチングプール（魚にさわることができる催し物）」のために、水族館スタッフがエイの毒針を抜く。
                ・エイの毒針を捨てる場所は分かっているので、そのダストシュートに投げ込まれるタイミングを見計らって、犯人はダストシュート内に網をかけることで、エイの毒針を入手する。（トリック：網を使う。「能力」を錯覚）
                ・犯人はエイの毒針を、「殺すターゲット」の着るものに仕込む。足止めするために、足に刺さるようにする。
                ・ターゲットがそれを着る時に、足にでも毒針を受ける。そのためターゲットは医務室に入って、処置をしてもらい、安静にする。
                ・犯人は計画的に火事を起こして、館内の人をいなくさせる。ターゲットは医務室で足止めされ、どこにも行けない状況になる。
                ・犯人はビニールシートを使い、息継ぎをしながら水槽内を移動することで、監視カメラにも映らず、ターゲットのいる場所へとたどり着く。（トリック：水槽内移動、ビニールシートトリック。共に「移動性」を錯覚）犯人はターゲットを殺害する。
                ・犯人は復路（帰り道）でビニールシートの空気を捨てて、ビニールシートを水槽から出し、火事に紛れて燃やすことで、証拠隠滅をする。
                ・火事鎮圧後に殺しが発覚しても、犯人は現場まで移動不可能だと錯覚されるため、完全犯罪が成立。
                -
                世界観: 登山
                trick1: {
                常識と異なる現象: 土が雨で強固になり、崩れにくくなる
                現象の原理: 地下にある特殊な鉱石が雨水と反応して固化作用を持つ。この鉱石が含まれる地域では雨が降ると土砂崩れのリスクが減少する。
                謎を解かせる人々に錯覚させる内容: 移動性(通るのが不可と思われた道を通り被害者のもとへ行くことができる)
                }
                >> 以上のトリックを用いた「登山」での「完全犯罪のシナリオ」
                ...続きを出力
                """
                
                ```
                
            - output
                
                ```python
                """
                「登山」での「完全犯罪のシナリオ」
                
                ・犯人とターゲットは登山仲間として、特定の登山ルートを使って山に登る予定を立てる。このルートは、天気が良いと通常は土砂崩れのリスクが高くて通行禁止になる箇所がある。
                ・犯人は、前述の土砂崩れリスクがある箇所にある特殊な鉱石の情報を事前に入手しており、雨が降るとその箇所が固まり通行できることを知っている。（トリック：特殊な鉱石の反応。「移動性」を錯覚）
                ・犯人は天気予報をチェックし、予定日に雨が降ることを確認。その日に山登りを提案する。
                ・山に登る当日、犯人はターゲットと一緒に登山を開始。途中で予定通り雨が降り始める。
                ・雨が降ったことで、土砂崩れリスクのある箇所が固まり、他の登山者はその箇所を避けるが、犯人とターゲットはその道を進む。
                ・犯人は、通常誰も通らないこの道を利用して、ターゲットを何も警戒していない場所で殺害する。
                ・殺害後、犯人は同じ道を下山。雨が止むとその道は再び土砂崩れリスクが高くなり、通常の登山者はその箇所を避けるため、犯人の行動が目撃されることはない。
                ・ターゲットの遺体は、雨で崩れた土に埋まってしまう可能性が高く、発見されることは少ない。
                ・万が一、遺体が見つかった場合でも、犯人はその場所を通ったという証拠はなく、完全犯罪が成立。
                ・このように、特定の知識と環境を利用して犯罪を行うことで、通常では考えられないような方法で犯行を隠蔽することが可能となる。
                
                {
                	"1": ---,
                	"2": ---,
                }
                
                """
                ```
                
        - 二つのトリックからシナリオを作るテスト
            - l
                
                ```python
                """
                
                """
                ```
                
            

step: 

# Fn例

## 1. userが指定した世界観に登場するアイテムと特殊現象を挙げる

- attempt1 3.5 turbo
    
    ```python
    {
      "world": "高校",
      "items": ["教室", "机", "黒板", "教科書", "鉛筆", "ノート", "制服", "ランチボックス", "体育館", "バスケットボール", "プール", "水泳帽子", "軽音楽部", "ギター", "演劇部", "舞台", "生徒会室", "会議テーブル", "図書室", "本棚"],
      "trivia": ["校内放送はベルが鳴る前に流れることが多い", "体育館の床にはバスケットボールのコートが描かれている", "プールの水温は常に28度に保たれている", "軽音楽部ではバンドの演奏が毎日行われている", "演劇部の舞台装置は生徒たちが手作りしている", "生徒会室では週に一度、生徒会の会議が行われている", "図書室には様々なジャンルの本が揃っている"]
    }
    
    {
      "world": "高校",
      "items": ["机", "椅子", "黒板", "教科書", "ノート", "筆記用具", "図書室", "体育館", "プール", "制服"],
      "trivia": [
        "教室の机には落書きがされていることがある",
        "椅子の座面にはへこみができていることがある",
        "黒板にはチョークの粉がついていることがある",
        "教科書には印がついていることがある",
        "ノートにはメモやイラストが書かれていることがある",
        "筆記用具は数が足りなくなることがある",
        "図書室には静かにするように書かれた看板がある",
        "体育館にはバスケットボールのネットが垂れ下がっていることがある",
        "プールの水温は設定された範囲内で維持されている",
        "制服には名札がついていることがある"
      ]
    }
    
    {
      "world": "テレビ局",
      "items": [
        "カメラ",
        "マイク",
        "照明器具",
        "モニター",
        "テレビカメラ",
        "映像編集ソフト",
        "音声編集ソフト",
        "放送用トランスミッター",
        "放送用受信機",
        "番組表",
        "スタジオ",
        "リモコン"
      ],
      "trivia": [
        "テレビカメラの画角は通常16:9",
        "映像編集ソフトには色調補正やノイズリダクションなどの機能がある",
        "音声編集ソフトにはエコー効果や音量調整などの機能がある",
        "放送用トランスミッターは無線で信号を送信する装置",
        "放送用受信機は無線で信号を受信する装置",
        "スタジオではバックドロップやグリーンスクリーンを使って背景を作ることができる"
      ]
    }
    
    {
      "world": "テレビ局",
      "items": ["カメラ", "マイク", "照明", "モニター", "スタジオ", "ニュースデスク", "テレビ番組のセット", "映像編集機", "放送塔", "テレビアンテナ"],
      "trivia": ["ニュースを報じる際には特定の衣装を着る", "生放送では時間を守ることが非常に重要", "テレビスタジオは照明の配置に工夫がされている", "テレビアンテナの向きが悪いと映像が乱れる", "映像編集機で映像に効果を追加することができる"]
    }
    ```
    
- attempt2 4
    
    ```python
    出力を守らない. まじ守らんじゃん腹たちぬ
    ↓ lengthで出力ストップ
    {
      "world": "高校",
      "items": ["教科書","図書館の本","学生用デスク","授業スケジュール","プロジェクタ","学生証","教職員のバッジ","制服","ブレザー","体操服","ランドセル","鞄","筆箱","ペン","習字の筆","体育館","体育用具","運動場","プール","化学実験室の器具","図工室の彫刻刀","理科室の顕微鏡","職員室のパソコン","教室の黒板","音楽室の楽器","風呂敷"],
      "trivia": ["体育館の床はワックスがかけられて滑りやすくなることがある","図書館の本は貸し出し記録がある","化学実験室には危険な化学薬品が置かれていることがある","理科室の顕微鏡は微細な物質を観察するのに使われる","教室の黒板のチョークはアレルギーを引き起こすことがある","体育館の床は特定の条件下で音を吸収し、静かになることがある","桜の木は春になると花を咲かせる","学校の法則で学生は制服を着る必要がある","校則により、学生は学校内で特定のアイテム（携帯電話など）を使用することが制限されていることがある","音楽室の楽器は
    
    ↓ 10個までに制限
    {
      "world": "高校",
      "items": ["教室", "黒板", "テストの答案", "教科書", "体育用具", "制服", "学生証", "職員室の鍵", "放送室", "化学実験室の薬品"],
      "trivia": ["学校の屋上は通常は閉鎖されている", "放送室は特定の生徒や教師のみが入室できる", "化学実験室の薬品は危険物も含まれている可能性がある", "テストの答案は一定の保管期間がある", "教科書は版ごとに中身が少しずつ異なる", "学生証を紛失すると再発行に時間がかかる", "制服は各生徒が個別に管理する", "体育用具は放課後も借りることが可能", "教室は掃除当番の生徒が鍵を持つことがある", "職員室の鍵は教職員のみが持つ"]
    }
    
    {
      "world": "高校",
      "items": ["教科書", "チョーク", "黒板", "体操服", "テスト用紙", "図書館の本", "化学実験室の薬品", "学生証", "コンピューター室のPC", "校内放送装置"],
      "trivia": ["体操服は個人番号が書かれている", "図書館の本はバーコードで管理されている", "化学実験室の薬品は危険物のため厳重に管理", "学生証は門限時間を過ぎると自動的に門が閉まる", "コンピューター室のPCには個々のログインIDが必要", "校内放送は特定の部屋から操作可能", "テスト用紙は番号で管理されている", "黒板のチョークは特定の色が特定の教科に使われる", "教科書の一部は放課後に学校内で保管される", "学生が個人的な所有物を学校に持ち込むのは禁止されている"]
    }
    ```
    
- attempt3 2の続き
    
    input:
    
    ```python
    """
    List the following items and trivia counter-common knowledge.
    {"items": ["教室", "黒板", "体育用具", "制服", "学生証", "職員室", "職員室の鍵", "放送室", "化学実験室の薬品", "保健室"], "trivia": ["学校の屋上は通常は閉鎖されている", "放送室は特定の生徒や教師のみが入室できる","化学実験室の薬品は危険物のため厳重に管理されている", "学生証を紛失すると再発行に時間がかかる", "体育館の床は特定の条件下で音を吸収し、静かになることがある","教室の黒板のチョークはアレルギーを引き起こすことがある"]}
    """
    ```
    
    Output:
    
    ```python
    """
    {
    "world": "School Murder Mystery", 
    "items": {
      "item": "Classroom", 
      "common sence": ["The desks and chairs are always aligned", "The blackboard is always clean after class", "The classroom windows are always locked after school hours"]
    },
    "trivia": {
      "trivium": "The school rooftop is usually closed",
      "common sence": ["Only the janitor has the keys", "It's dangerous, therefore students are not allowed", "It's used for storing unused school items"]
    }
    }
    """
    
    """
    {
    "world": "School",
    "items": ["Classroom", "Blackboard", "Sports equipment", "School uniform", "Student ID card", "Staff room", "Staff room key", "Broadcast room", "Chemicals in the chemistry lab", "Health center"],
    "trivia": 
    ["The school rooftop is usually closed", "Only certain students and teachers are allowed to enter the broadcast room", "Chemicals in the chemistry lab are dangerous and are strictly managed", "If you lose your student ID card, it takes time to reissue", "The gym floor can absorb sound and become quiet under certain conditions", "Classroom blackboard chalk can cause allergies"]
    }
    """
    ```
    

↓ ナイス！見させてもらいますん

## 世界観の入力から、原理と錯覚情報までのFunction作ってみた(1から2-cまで)

表記ゆれがあると、出力結果の質に影響がありそうなので

常識 → common sense
反常識 → uncommon sense

これで統一した

- function
    
    英語、例を適宜与えている
    
    ```json
    [
    	{
    		"name": "get_item_and_special_phenomena",
    		"description": "List 10 items and 10 special phenomena that exist in the world based on the worldview given by user input.",
    		"parameters": {
    			"type": "object",
    			"properties": {
    				"item": {
    					"type": "array",
    					"description": "If user input is \"snow mountain\", items: \"ski boards\", \"snowboard boards\", \"poles\", \"sleds\", \"goggles\", \"slopes\", \"snowmobiles\", \"snow presses\", \"artificial snow machines\", \"artificial snow machines\", \"flags and ropes indicating areas to run\", \"lifts\", \"lift posts\", \" Lift monitoring huts\", \"CCTV cameras at lift access points\", \"Rest rooms\", \"Oil heaters\", \"On-site speakers\", \"On-site broadcast room\", \"Snow\", \"Ice\", \"Icicles\", \"Water facilities to melt ice\", \"Wax for ski maintenance\", \"Corks for waxing\", \"Rims for waxing wax remover\".",
    					"items": {"type": "string"}
    				},
    				"phenomena": {
    					"type": "array",
    					"description": "If user input is \"snow mountain\", special phenomena: \"you can't see five meters ahead in a snowstorm\", \"if there is a lot of snow, after a few minutes the skis will disappear\", \"in heavy snowfalls, it is sometimes possible to jump off the lift\", \"only in river areas there is no snow\", \"there is no snow on the trees\", \"the snow is not covered with snow\", \"the snow is not covered with snow\", \"the snow is not covered with snow\", \"the snow is not covered with snow\", \"the snow is not covered with snow\", \"the snow is not covered with snow\". Snow on trees sometimes falls\", \"Artificial snowfall machines are loud\", \"Artificial snowfall machines take a long time to work\". Not in the abstract, but in the concrete.",
    					"items": {"type": "string"}
    				}
    			},
    			"required": ["item", "phenomena"]
    		}
    	},
    	{
    		"name": "get_common_sense",
    		"description": "List the common sense about the world, items and special phenomena given by user input.",
    		"parameters": {
    			"type": "object",
    			"properties": {
    				"item": {
    					"type": "array",
    					"items": {
    						"type": "object",
    						"description": "about \"item\"",
    						"properties": {
    							"name": {
    								"type": "string",
    								"description": "user input"
    							},
    							"common sense": {
    								"type": "string",
    								"description": "Output in one sentence. Examples of common sense of items in the case where the \"world\" is an \"aquarium.\" Common sense of an aquarium: \"You can see through to the other side\", \"the inside of the aquarium is filled with water\", \"fish are swimming\", \"only the person who cleans or feeds the fish enters\", \"do not look at the ceiling (do not consciously look beyond the water surface)\", \"people do not move inside the aquarium\", \"People do not use the inside of a water-filled tank as a means of transportation; if they do, they should use the passageway\". Common sense of water: \"clear and colorless\", \"can see the other side\", \"moves from high to low\", \"cannot breathe in water\", \"difficult for humans to move around\", \"sounds in water are difficult to hear outside of water\". Common sense of oxygen cylinders: \"can be used for long periods of time\", \"contains oxygen\", \"can breathe under water\". Common sense of surveillance cameras: \"monitor people\", \"monitor corridors\", \"images are black and white\", \"images are clear even at night.\""
    							}
    						},
    						"required": ["name", "common sense"]
    					}
    				},
    				"phenomena": {
    					"type": "array",
    					"items": {
    						"type": "object",
    						"description": "about \"special phenomena\"",
    						"properties": {
    							"name": {
    								"type": "string",
    								"description": "user input"
    							},
    							"common sense": {
    								"type": "string",
    								"description": "Output in one sentence. Examples of common sense of special phenomena in the case when the \"world\" is a \"snowy mountain\". The common sense of the special phenomenon that you can't even see 5 meters ahead when there is a snowstorm: \"you can't see people or things beyond 5 meters\", \"the whole place or its surroundings is under a snowstorm\", \"sound can be heard beyond 5 meters\", \"light is hard to lose\", \"you can reach the lodge without knowing the location by relying on the slope and the guide's rope.\""
    							}
    						},
    						"required": ["name", "common sense"]
    					}
    				}
    			},
    			"required": ["item", "phenomena"]
    		}
    	},
    	{
    		"name": "get_uncommon_sense",
    		"description": "List uncommon sense for common sense of \"item and special phenomena\" given by user input. Simply, partial or complete denial of common sense.",
    		"parameters": {
    			"type": "object",
    			"properties": {
    				"item": {
    					"type": "array",
    					"items": {
    						"type": "object",
    						"description": "about \"item\"",
    						"properties": {
    							"name": {
    								"type": "string",
    								"description": "user input"
    							},
    							"uncommon sense": {
    								"type": "string",
    								"description": "Output in one sentence. Examples of uncommon sense for common sense of item. item: \"Oxygen tank\", \"common sense\": \"It contains oxygen.\", \"uncommon sense\": \"No oxygen\" or \"Something other than oxygen.\"\n item: \"Surveillance camera\", \"common sense\": \"Something to Monitor the Passage\", \"uncommon sense\": \"Not monitoring passages\" or \"monitoring other than passages\""
    							}
    						},
    						"required": ["name", "uncommon sense"]
    					}
    				},
    				"phenomena": {
    					"type": "array",
    					"items": {
    						"type": "object",
    						"description": "about \"special phenomena\"",
    						"properties": {
    							"name": {
    								"type": "string",
    								"description": "user input"
    							},
    							"uncommon sense": {
    								"type": "string",
    								"description": "Output in one sentence. Examples of uncommon sense for common sense of special phenomena. phenomena: \"Stingray stingers are regularly removed\", \"common sense\": \"If You Get Stung by a Poison, You Need to Apply first aid Immediately\", \"uncommon sense\": \"If you are stung by a poison, you do not have to give first aid immediately,\" or \"give first aid even if you are not stung by a poison.\"\n phenomena: \"When a snowstorm hits, you can't see five meters ahead\", \"common sense\": \"In a snowstorm, you can't see people or things more than five meters ahead.\", \"uncommon sense\": \"NEven in a snowstorm, it can distinguish people and objects more than five meters ahead\""
    							}
    						},
    						"required": ["name", "uncommon sense"]
    					}
    				}
    			},
    			"required": ["item", "phenomena"]
    		}
    	},
    	{
    		"name": "get_principle_and_illusion",
    		"description": "List the principles and illusion content that make possible the uncommon sense given by user input.",
    		"parameters": {
    			"type": "object",
    			"properties": {
    				"item": {
    					"type": "array",
    					"items": {
    						"type": "object",
    						"description": "about \"item\"",
    						"properties": {
    							"name": {
    								"type": "string",
    								"description": "user input"
    							},
    							"principle": {
    								"type": "string",
    								"description": "List the principles that make uncommon sense possible. For example, in the case of the uncommon sense that  \"you can breathe in water, \" the principle is that  \"by bringing a plastic sheet into the water, you can create an air pocket above the air outlet in the water tank and breathe. \""
    							},
    							"illusion": {
    								"type": "string",
    								"description": "The illusion content refers to what can be made to be an illusion by other players who solve the mystery by this uncommon sense, and it is necessary to choose from the following options. \"移動性\", \"時間\", \"能力視覚\", \"音\", \"触覚\", \"嗅覚\", \"味覚\""
    							}
    						},
    						"required": ["name", "principle", "illusion"]
    					}
    				},
    				"phenomena": {
    					"type": "array",
    					"items": {
    						"type": "object",
    						"description": "about \"special phenomena\"",
    						"properties": {
    							"name": {
    								"type": "string",
    								"description": "user input"
    							},
    							"principle": {
    								"type": "string",
    								"description": "List the principles that make uncommon sense possible. For example, in the case of the uncommon sense that  \"you can breathe in water, \" the principle is that  \"by bringing a plastic sheet into the water, you can create an air pocket above the air outlet in the water tank and breathe. \""
    							},
    							"illusion": {
    								"type": "string",
    								"description": "The illusion content refers to what can be made to be an illusion by other players who solve the mystery by this uncommon sense, and it is necessary to choose from the following options. \"移動性\", \"時間\", \"能力視覚\", \"音\", \"触覚\", \"嗅覚\", \"味覚\""
    							}
    						},
    						"required": ["name", "principle", "illusion"]
    					}
    				}
    			},
    			"required": ["item", "phenomena"]
    		}
    	}
    ]
    ```
    
- 結果
    
    ```json
    phase: 0 (アイテムと特殊現象)
    >> テレビ局
    {
      "item": [
        "カメラ", 
        "マイク", 
        "テレビモニター", 
        "照明機材", 
        "スイッチャー", 
        "録音機", 
        "映像編集機", 
        "電波送信機", 
        "アンテナ", 
        "放送用テープ"
      ],
      "phenomena": [
        "生放送中に技術的な問題が発生する", 
        "スタジオ内でのグリーンバック合成", 
        "番組の中断や放送事故が起きる", 
        "視聴者からの電話やメールでのリアルタイムなやりとり", 
        "スタジオセットの変更", 
        "スポンサーや放送時間の変更", 
        "放送中のスケジュールの変更", 
        "タレントや司会者のトラブル", 
        "無線機器の干渉や不具合", 
        "放送中の自然災害や事故"
      ]
    }
    ```
    
    ```json
    phase: 1 (常識)
    >> {"item": ["カメラ", "マイク", "照明機材"], "phenomena": ["番組の中断や放送事故が起きる","放送中のスケジュールの変更", "放送中の自然災害や事故"]}
    
    gpt-3.5-turbo
    {
      "item": [
        {"name": "カメラ", "common sense": "カメラは映像を撮影するための機材です。"},
        {"name": "マイク", "common sense": "マイクは音声を収録するための機材です。"},
        {"name": "照明機材", "common sense": "照明機材は撮影する対象を明るく照らすための機材です。"}
      ], 
      "phenomena": [
        {"name": "番組の中断や放送事故が起きる", "common sense": "番組中に予期せぬトラブルや放送事故が発生することがあります。"},
        {"name": "放送中のスケジュールの変更", "common sense": "放送中に予定されていた内容や時間に変更があることがあります。"},
        {"name": "放送中の自然災害や事故", "common sense": "放送中に地震や火災などの自然災害や事故が発生することがあります。"}
      ]
    }
    
    gpt-4
    {
      "item": [
        {"name": "カメラ", "common sense": "映像を撮影する道具。通常は電源と映像信号の送信ラインが必要。"},
        {"name": "マイク", "common sense": "音を録音する道具。通常は電源と音声信号の送信ラインが必要。"},
        {"name": "照明機材", "common sense": "映像を撮影するための照明を提供する。電源が必要で、制御パネルから操作する。"}
      ],
      "phenomena": [
        {"name": "番組の中断や放送事故が起きる", "common sense": "放送機器の故障、電力供給の問題、放送内容の問題などが原因で起こる。"},
        {"name": "放送中のスケジュールの変更", "common sense": "急なニュース、重要な報道情報の発表、災害や事故の発生等が原因でスケジュールが変更される。"},
        {"name": "放送中の自然災害や事故", "common sense": "地震、台風、火事などの自然災害や交通事故、工場の爆発などが発生すると、放送はそれに対応して変更される。"}
      ]
    }
    ```
    
    出力が長いとやりづらいので、アイテムと特殊現象は3つずつに絞った
    
    ここは、gpt-4を使わないとダメそう
    
    ```json
    phase: 2 (反常識)
    >> {"item": [{"name": "カメラ", "common sense": "映像を撮影する道具。通常は電源と映像信号の送信ラインが必要。"},{"name": "マイク", "common sense": "音を録音する道具。通常は電源と音声信号の送信ラインが必要。"},{"name": "照明機材", "common sense": "映像を撮影するための照明を提供する。電源が必要で、制御パネルから操作する。"}],"phenomena": [{"name": "番組の中断や放送事故が起きる", "common sense": "放送機器の故障、電力供給の問題、放送内容の問題などが原因で起こる。"},{"name": "放送中のスケジュールの変更", "common sense": "急なニュース、重要な報道情報の発表、災害や事故の発生等が原因でスケジュールが変更される。"},{"name": "放送中の自然災害や事故", "common sense": "地震、台風、火事などの自然災害や交通事故、工場の爆発などが発生すると、放送はそれに対応して変更される。"}]}
    {
      "item": [
        {"name": "カメラ", "uncommon sense": "カメラが突然自動で映像を撮影し始める現象が起きる。電源や送信ラインを必要とせずに動作する。"},
        {"name": "マイク", "uncommon sense": "マイクが自動的に音声を録音し始める現象が起きる。電源や送信ラインを必要とせずに動作する。"},
        {"name": "照明機材", "uncommon sense": "照明機材が突然異常な明るさや色合いで光を放つ現象が起きる。制御パネルからの操作が効かなくなる。"}
      ],
      "phenomena": [
        {"name": "番組の中断や放送事故が起きる", "uncommon sense": "番組の中断や放送事故が何度も続発するが、原因が特定できず、機器の故障や問題ではないように思われる。"},
        {"name": "放送中のスケジュールの変更", "uncommon sense": "放送中のスケジュールが突然変更されるが、急なニュースや重要な情報の発表がない。スケジュールの変更理由が不明瞭である。"},
        {"name": "放送中の自然災害や事故", "uncommon sense": "放送中に予想外の自然災害や事故が発生し、放送が停止されるが、通常の対応が遅れ、一時的な混乱が起きる。"}
      ]
    }
    ```
    
    これはgpt-3.5-turbo
    
    この結果はマシだが、出力結果が不安定だったりした
    
    ```json
    phase: 3 (反常識を成り立たせる原理と錯覚内容)
    >> {"item": [{"name": "カメラ", "uncommon sense": "カメラが突然自動で映像を撮影し始める現象が起きる。"}], "phenomena": [{"name": "番組の中断や放送事故が起きる", "uncommon sense": "番組の中断や放送事故が何度も続発するが、原因が特定できず、機器の故障や問題ではないように思われる。"}, {"name": "放送中のスケジュールの変更", "uncommon sense": "放送中のスケジュールが突然変更されるが、急なニュースや重要な情報の発表がない。スケジュールの変更理由が不明瞭である。"}]}
    
    gpt-3.5-turbo
    {
      "item": [
        {
          "name": "カメラ",
          "principle": "映像自動撮影の原理",
          "illusion": "カメラの自動撮影現象の錯覚"
        }
      ],
      "phenomena": [
        {
          "name": "番組の中断や放送事故が起きる",
          "principle": "中断や事故の原理",
          "illusion": "原因特定の困難さの錯覚"
        },
        {
          "name": "放送中のスケジュールの変更",
          "principle": "スケジュール変更の原理",
          "illusion": "変更理由の不明瞭さの錯覚"
        }
      ]
    }
    
    gpt-4
    {
      "item": [
        {
          "name": "カメラ",
          "principle": "カメラは人の操作により映像を撮影する。",
          "illusion": "カメラが自動で映像を撮影する。"
        }
      ],
      "phenomena": [
        {
          "name": "番組の中断や放送事故",
          "principle": "放送事故は技術的な問題や人為的な失敗により発生する。",
          "illusion": "原因不明の放送事故が続発する。"
        },
        {
          "name": "放送中のスケジュールの変更",
          "principle": "放送スケジュールは事前に決定され、緊急時以外には変更されない。",
          "illusion": "理由もなく放送スケジュールが変更される。"
        }
      ]
    }
    ```
    
    ここが全くダメ。思ったように出力してくれなかった
    

## ~~Function修正(出力されない、空欄になる問題に対して)　🫰🏻~~